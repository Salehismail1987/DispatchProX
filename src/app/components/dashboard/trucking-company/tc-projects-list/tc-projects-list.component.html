<div class="wrapper">
  <app-dashboard-header [active_menu]="this.active_menu"></app-dashboard-header>
  <div id="content" class="pb-0">
    <app-dashboard-top-header></app-dashboard-top-header>
    <div class="body-content2 pb-0">
      <div
        class="setting-content-page custom-padding2 mb-0 br-10 inner_main_shadow"
      >
        <div class="d-flex justify-content-between align-items-center mb-34">
          <div class="title-15">
            <span
              ><img
                _ngcontent-sea-c48=""
                src="../../assets/icons/projects-menu-icon2.svg"
            /></span>
            <span class="ml-2">Projects</span>
          </div>
          <!-- <div>
                        <button class="mybtn4 cp-1" data-toggle="modal" data-target="#add_project">Add project</button>
                    </div> -->

          <div
            class="nav nav-pills nav-fill ticket-tabs"
            id="nav-tab"
            role="tablist"
          >
            <a
              class="help_btn"
              [ngClass]="help_page ? 'help_btn_active' : ''"
              aria-selected="false"
              (click)="helpPage()"
              >Help</a
            >
            <a
              class="nav-item btn-nav nav-link active btn_active"
              data-toggle="modal"
              data-target="#add_project"
              (click)="helpPage(2)"
              role="tab"
              aria-selected="true"
              style="
                display: flex;
                flex-wrap: wrap;
                align-content: center;
                justify-content: center;
                cursor: pointer;
              "
            >
              <img
                class="mr-3"
                src="./assets/icons/plus-a.svg"
                width="20px"
                alt="project-profile-tracker-icon"
              />
              Add project</a
            >
          </div>
        </div>
        <div *ngIf="!help_page" class="row">
          <div class="col-md-7 col-padding-l">
            <div class="main-project-setting-header-left">
              <div class="heading-2-300">Project listings</div>
              <div class="text-2-300">Click the line to see more</div>
            </div>
          </div>

          <div class="col-md-2 col-padding-rl">
            <div class="input-div getinputfield3 cur_p">
              <div class="title-5-new2 text-color-black-shade5 text-left">
                Sort by
              </div>
              <div
                class="myinput-new sa_sel sa_select selected"
                *ngIf="!this.sort_by"
              >
                Select
              </div>
              <div
                class="myinput-new sa_sel sa_sel2 selected"
                *ngIf="this.sort_by != null"
              >
                {{
                  this.sort_by == "number_of_projects"
                    ? "Number of projects "
                    : this.sort_by == "city"
                    ? "City "
                    : "Recently added"
                }}
              </div>
              <img
                src="../../assets/images/dropdown.svg"
                class="icon-center-right"
              />
              <div
                class="input-popup-div3 cust_drop companies_list"
                style="display: none"
              >
                <div class="title-5-new2 text-color-black-shade5 mb-4px">
                  Sort by
                </div>
                <div class="title-18 text-right mb-2px d-none">Default</div>
                <!-- <div (click)="setSortBy('')"  class="d-flex justify-content-between mb-5px list-item" >
                                   <div [ngClass]="!this.sort_by ? 'title-5-new':'title-5-new text-color-black-shade7'" >
                                       All
                                   </div>
                               </div> -->

                <div
                  (click)="setSortBy('recently_added')"
                  class="d-flex justify-content-between mb-5px list-item"
                  [ngClass]="
                    this.sort_by == 'recently_added'
                      ? 'title-5-new33_active'
                      : ''
                  "
                >
                  <div
                    [ngClass]="
                      this.sort_by == 'recently_added'
                        ? 'title-5-new33 title-5-new33_active'
                        : 'title-5-new33 text-color-black-shade7'
                    "
                  >
                    Recently added
                  </div>
                </div>
                <div
                  (click)="setSortBy('number_of_projects')"
                  class="d-flex justify-content-between mb-5px list-item"
                >
                  <div
                    [ngClass]="
                      this.sort_by == 'number_of_projects'
                        ? 'title-5-new33 title-5-new33_active'
                        : 'title-5-new33 text-color-black-shade7'
                    "
                  >
                    Number of projects
                  </div>
                </div>
                <div
                  (click)="setSortBy('city')"
                  class="d-flex justify-content-between mb-5px list-item"
                >
                  <div
                    [ngClass]="
                      this.sort_by == 'city'
                        ? 'title-5-new33 title-5-new33_active'
                        : 'title-5-new33 text-color-black-shade7'
                    "
                  >
                    City
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div
            [class]="true ? 'col-md-3 col-padding-r' : 'col-md-3 col-padding-r'"
          >
            <div class="position-relative">
              <label class="field text-field">
                <input
                  class="field__input height-43px"
                  placeholder="Search"
                  (change)="searchBy(searchby.value)"
                  type="text"
                  [(ngModel)]="this.search_by"
                  #searchby
                />
                <span class="field__label-wrap">
                  <span class="field__label field__label2">Search project</span>
                </span>
              </label>
              <div class="topright2">
                <img
                  src="../assets/icons/search2.svg"
                  (click)="searchBy(searchby.value)"
                />
              </div>
            </div>
          </div>
        </div>
        <!-- <div *ngIf="!help_page" class="d-flex justify-content-between align-items-center mb-10"> -->
        <table *ngIf="!help_page" class="table mytable mb-5">
          <thead class="table-light cc-table project-setting-table-header">
            <tr style="background-color: #caeaff">
              <th
                scope="col"
                class="project-settings-table-header py-1"
                style="width: 56%"
              >
                <div class="heading-8-400 text-color-grey text-left">
                  Construction company
                </div>
              </th>
              <th
                scope="col"
                class="project-settings-table-header py-1"
                style="width: 17%"
              >
                <div class="heading-8-400 text-color-grey text-center">
                  Location
                </div>
              </th>
              <th
                scope="col"
                class="project-settings-table-header py-1"
                style="width: 12%"
              >
                <div class="heading-8-400 text-color-grey text-center">
                  # of projects
                </div>
              </th>
              <th
                scope="col"
                class="project-settings-table-header text-center py-1"
                style="width: 15%"
              >
                <div class="heading-8-400 text-color-grey">Details</div>
              </th>
            </tr>
          </thead>
        </table>
        <!-- </div> -->
        <!-- <div *ngIf="!help_page" class="myhr2 mb-22"></div> -->
        <ng-container *ngIf="!help_page">
          <ng-container *ngFor="let cc of this.projects_list">
            <div class="project-main-div">
              <div
                class="single-project mb-5"
                (click)="toShow(cc.id + cc.company_name)"
                [style]="
                  cc.id == to_show_id
                    ? ' padding: 3px 10px; height: 55.8px;'
                    : ' padding: 3px 10px; height: 55.8px; cursor: pointer; '
                "
              >
                <div
                  *ngIf="
                    this.to_show_id &&
                    this.to_show_id == cc.id + cc.company_name
                  "
                  class="d-flex cc-div px-3"
                  (click)="this.viewCC(cc)"
                  data-toggle="modal"
                  data-target="#edit_cc"
                >
                  <div class="d-flex align-items-center">
                    <div>
                      <img
                        src="../../assets/icons/cc-project-icon.svg"
                        alt=""
                      />
                    </div>
                    <div
                      class="desc-2 ml-3 text-black project-name cc-title"
                      *ngIf="cc.id != to_show_id"
                    >
                      {{ cc?.company_name }}
                    </div>
                  </div>

                  <div>
                    <img
                      src="../../assets/icons/pencil-cc2.svg"
                      style="cursor: pointer"
                      alt=""
                    />
                  </div>
                </div>
                <div
                  *ngIf="
                    !this.to_show_id ||
                    this.to_show_id != cc.id + cc.company_name
                  "
                  class="d-flex w_55 table_fields"
                >
                  {{ cc?.company_name }}
                </div>
                <div class="d-flex w_20 table_fields">
                  {{ cc?.projects[0]?.project_location }}
                </div>
                <div class="d-flex w_17 table_fields">
                  {{ cc?.projects?.length || 0 }}
                </div>

                <div class="edit-project-name" *ngIf="cc.id == to_show_id">
                  <div class="d-flex align-items-center">
                    <div>
                      <img
                        src="../../assets/icons/cc-project-icon.svg"
                        alt=""
                      />
                    </div>
                    <div class="ml-19">{{ cc?.company_name }}</div>
                    <div class="ml-54">
                      <img src="../../assets/icons/pencile.svg" alt="" />
                    </div>
                  </div>
                </div>
                <div
                  *ngIf="
                    !this.to_show_id ||
                    this.to_show_id != cc.id + cc.company_name
                  "
                  class="w_7"
                >
                  <img
                    src="../../assets/icons/arrow_drop_down_circle.png"
                    alt=""
                  />
                </div>
                <div
                  *ngIf="
                    this.to_show_id &&
                    this.to_show_id == cc.id + cc.company_name
                  "
                  class="w_7"
                >
                  <img
                    src="../../assets/icons/arrow_drop_down_circle2.svg"
                    alt=""
                  />
                </div>
              </div>
              <div
                class="projects-list px-0"
                *ngIf="cc.id + cc.company_name == to_show_id"
              >
                <div class="table-responsive">
                  <table class="projects-list-table">
                    <thead class="pp-table">
                      <tr class="tab_head_2" style="background-color: #caeaff">
                        <th style="width: 37%">Project name</th>
                        <th>Job <br />number</th>
                        <th>City, <br />province/state</th>
                        <th>Open <br />tickets</th>
                        <th>
                          # of closed<br />
                          tickets
                        </th>
                        <th class="text-center">Dispatch</th>
                      </tr>
                    </thead>
                    <tbody>
                      <ng-container *ngFor="let proj of cc.projects">
                        <tr
                          class="table_fields cursor-pointer"
                          [routerLink]="[
                            '/tc-project-profile',
                            proj.id +
                              '-' +
                              (proj?.trucking_company_id ? 'YES' : 'NO')
                          ]"
                        >
                          <td
                            (click)="setEditCC(cc, proj)"
                            data-toggle="modal"
                            data-target="#view_project"
                          >
                            {{ proj.project_name }}
                          </td>
                          <td
                            (click)="setEditCC(cc, proj)"
                            data-toggle="modal"
                            data-target="#view_project"
                          >
                            {{ proj.job_number }}
                          </td>
                          <td
                            (click)="setEditCC(cc, proj)"
                            data-toggle="modal"
                            data-target="#view_project"
                          >
                            {{ proj.project_location }}
                          </td>
                          <td
                            (click)="setEditCC(cc, proj)"
                            data-toggle="modal"
                            data-target="#view_project"
                          >
                            {{ proj.ticket_open_count }}
                          </td>
                          <td
                            (click)="setEditCC(cc, proj)"
                            data-toggle="modal"
                            data-target="#view_project"
                          >
                            {{ proj.ticket_closed_count }}
                          </td>
                          <td>
                            <button
                              class="mybtn4 cp-2"
                              (click)="createDispatch(proj)"
                            >
                              Dispatch
                            </button>
                          </td>
                        </tr>
                        <!-- <div  class="myhr3 mb-1"></div> -->
                        <tr>
                          <td class="line_tr" colspan="6">
                            <hr class="myhr3 m-0" />
                          </td>
                        </tr>
                      </ng-container>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </ng-container>
        </ng-container>
        <ng-container *ngIf="help_page">
          <div class="row mb-3">
            <div class="col-md-5 txt_1">
              <p>
                Welcome to DispatchProX. Here you take over the dispatching process
                if your customers:
              </p>
              <ul>
                <li>Construction companies</li>
                <li>Brokers</li>
                <li>Trucking companies</li>
              </ul>
              <p class="mb-0">
                are not using DispatchProX yet and you want to modernize your dump
                truck operations.
              </p>
            </div>
            <div class="col-12 col-md-6">
              <div class="img_1">
                <div>
                  <img
                    src="../../assets/icons/1-img.svg"
                    alt="Image description"
                  />
                </div>
                <div class="img_1_txt">
                  Projects - Job sites which are using dump trucks
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-md-5 txt_1 pb-0">
              <p class="mb_18">
                Projects need to be created ones and some details you can always
                modify. These details are passed then to the tickets, invoices
                and bills.
              </p>
              <p class="mb-0">
                Project has some identifying elements. Here, on these pages we
                list projects under Construction company
              </p>
            </div>

            <div class="col-12 col-md-6">
              <div class="img_1">
                <div class="row">
                  <div class="bg_yellow box_1">Construction company</div>
                  <div class="bg_yellow box_2 text-right">
                    <div class="title">Job address</div>
                    <div class="inputt text-right">Location</div>
                  </div>
                </div>

                <div class="row img_1_txt">
                  <div class="box_2 bg_yellow box_3">
                    <div class="title">Job number</div>
                    <div class="inputt">Each project has unique Job number</div>
                  </div>

                  <div class="box_2 bg_yellow text-right">
                    <div class="title">Project</div>
                    <div class="inputt text-right">Each project has a name</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-7 txt_1 pb-0 brdr_n">
              <div class="row box_4 py-2 w-max-content">
                <div class="d-flex mx_57">
                  <span class="num_span"> 1 </span>
                  <span class="txt_span">
                    You can start by<br />
                    creating a project
                  </span>
                </div>
                <div class="nav nav-pills nav-fill ticket-tabs ml-30px">
                  <a
                    class="nav-item btn-nav nav-link active btn_active btn_active2"
                    data-toggle="modal"
                    data-target="#add_projecthelp"
                    role="tab"
                    aria-selected="true"
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      align-content: center;
                      justify-content: center;
                      cursor: pointer;
                      margin-bottom: 0px;
                      font-size: 12px !important;
                    "
                  >
                    <img
                      class="mr-2"
                      src="./assets/icons/plus-a.svg"
                      width="14px"
                      alt="project-profile-tracker-icon"
                    />
                    Add project</a
                  >
                </div>
                <div class="position-relative">
                  <div
                    class="modal fade right show"
                    id="add_projecthelp"
                    tabindex="-1 "
                    role="dialog "
                    aria-labelledby="myModalLabel "
                  >
                    <div class="modal-dialog width_500" role="document ">
                      <div class="modal-content borderr  modal-bg-white">
                        <form [formGroup]="addProject">
                          <div class="modal-body">
                            <div class="title-17 mb_20">Add new project</div>
                            <div
                              class="d-flex justify-content-between align-items-center mb_20"
                            >
                              <div>
                                <img
                                  src="../../assets/icons/construction-icon.svg"
                                  alt=""
                                  width="45px"
                                />
                              </div>
                              <div class="cons_col">
                                <div class="position-relative getinputfield">
                                  <div class="title-18 text-black-shade2 mb-7">
                                    Construction company
                                  </div>
                                  <span
                                    *ngIf="
                                      addProject.get('construction_company_id')
                                        ?.invalid && form_clicked
                                    "
                                    class="text-danger"
                                  >
                                    Construction Company is required.
                                  </span>
                                  <div
                                    class="position-relative input-div required_field2"
                                  >
                                    <div
                                      class="myinput-new1"
                                      *ngIf="!this.set_cc"
                                    >
                                      Select
                                    </div>
                                    <div
                                      class="myinput-new"
                                      *ngIf="this.set_cc"
                                    >
                                      {{ this.set_cc.company_name }}
                                    </div>
                                    <img
                                      src="../../assets/images/dropdown.svg"
                                      class="icon-center-right"
                                    />
                                  </div>
                                  <div class="input-popup-div add-comp">
                                    <div class="title-20 text-color-grey mb-1">
                                      Construction company
                                    </div>
                                    <ng-container
                                      *ngFor="let cc of this.cc_lists"
                                    >
                                      <div
                                        class="title-5-new4"
                                        (click)="setCC(cc)"
                                      >
                                        {{ cc.company_name }}
                                      </div>
                                    </ng-container>
                                    <input
                                      type="hidden"
                                      formControlName="construction_company_id"
                                    />
                                    <div
                                      class="position-relative getinputfield2 add_filed"
                                    >
                                      <div
                                        class="myinput-new myinput3 text-color-black-shade8 myinput-new5"
                                      >
                                        Add
                                      </div>
                                      <img
                                        src="../../assets/icons/edit.png"
                                        class="icon-bottom-right2"
                                      />
                                    </div>
                                    <form [formGroup]="addCompany">
                                      <div class="input-popup-div2">
                                        <div class="title-3 text-center mb-19">
                                          Add company
                                        </div>
                                        <div class="position-relative mb-11">
                                          <span
                                            *ngIf="
                                              addCompany.get('company_name')
                                                ?.invalid && form_clicked
                                            "
                                            class="text-danger"
                                          >
                                            Name is required.
                                          </span>
                                          <input
                                            type="text"
                                            class="myinput-new myinput3"
                                            placeholder="Add"
                                            formControlName="company_name"
                                          />
                                          <img
                                            src="../../assets/icons/edit.png"
                                            class="icon-bottom-right2"
                                          />
                                        </div>
                                        <div align="center" class="mb-17">
                                          <button
                                            class="mybtn2 bg-medium-blue cp-4 text-white"
                                            (click)="handleAddCompany()"
                                            *ngIf="
                                              is_loading_add == '' ||
                                              is_loading_add != 'add_company'
                                            "
                                          >
                                            Add
                                          </button>
                                          <button
                                            class="mybtn2 bg-medium-blue cp-4 text-white"
                                            disabled
                                            *ngIf="
                                              is_loading_add != '' &&
                                              is_loading_add == 'add_company'
                                            "
                                          >
                                            Processing..
                                          </button>
                                        </div>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                              <div class="txt_col">
                                The more accurate details you can provide,
                                better tickets we can make.
                              </div>
                            </div>
                            <div
                              class="d-flex justify-content-between align-items-center mb_20"
                            >
                              <div class="title-5-new text-black">
                                Add Project
                              </div>
                              <div class="desc-1 text-black myinput-new6">
                                You can always edit/update date later
                              </div>
                            </div>
                            <div class="div-1 mb_20">
                              <div class="cp-3">
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <div
                                        class="d-flex align-items-center required_field3"
                                      >
                                        <div class="title_4">Project name</div>
                                      </div>
                                      <span
                                        *ngIf="
                                          addProject.get('project_name')
                                            ?.invalid && form_clicked
                                        "
                                        class="text-danger"
                                      >
                                        Project name is required.
                                      </span>
                                      <div class="position-relative borderr2">
                                        <input
                                          type="text"
                                          class="myinput-new myinput3"
                                          formControlName="project_name"
                                          placeholder="Type here"
                                        />
                                        <img
                                          src="../../assets/icons/pencil2_0.svg"
                                          width="21px"
                                          alt=""
                                          class="edit-icon-top-right"
                                        />
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <div
                                        class="d-flex align-items-center justify-content-end h_15"
                                      >
                                        <div class="title_4">Job number</div>
                                        <div
                                          class="required_field_label ml-5px mr-2"
                                        >
                                          *
                                        </div>
                                      </div>
                                      <span
                                        *ngIf="
                                          addProject.get('job_number')
                                            ?.invalid && form_clicked
                                        "
                                        class="text-danger"
                                      >
                                        Job number is required.
                                      </span>
                                      <div class="position-relative borderr2">
                                        <input
                                          type="text"
                                          class="myinput-new myinput3"
                                          formControlName="job_number"
                                          placeholder="..."
                                        />
                                        <img
                                          src="../../assets/icons/pencil2_0.svg"
                                          width="21px"
                                          alt=""
                                          class="edit-icon-top-right"
                                        />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="myhr2"></div>

                              <div style="position: absolute; width: 100%">
                                <div
                                  tabindex="-1"
                                  class="modal fade"
                                  style="position: relative !important"
                                  id="addNewAddress"
                                  aria-labelledby="addNewAddress"
                                  aria-modal="true"
                                  role="dialog"
                                >
                                  <div
                                    class="modal-dialog margin-auto d-flex justify-content-center"
                                  >
                                    <div
                                      class="modal-content borderr2 w_h_modal"
                                    >
                                      <div
                                        class="modal-body address-modal main_div_address"
                                      >
                                        <div class="row w_428">
                                          <div
                                            class="col-11 row ml-1 mb-2 px-0"
                                          >
                                            <div class="col-12 text-center">
                                              <div
                                                class="heading_7 text-center"
                                              >
                                                Add/update address
                                              </div>
                                            </div>
                                          </div>

                                          <div class="col-1">
                                            <button
                                              type="button"
                                              (click)="
                                                closeModal('addNewAddress')
                                              "
                                              aria-label="Close"
                                              class="my-modal-close border-0 bg-transparent shadow-none"
                                            >
                                              <img
                                                src="./assets/images/cross_2.svg"
                                                alt="Close"
                                                style="
                                                  width: 14px;
                                                  height: 14px;
                                                  margin-top: -10px;
                                                  margin-right: -15px;
                                                "
                                              />
                                            </button>
                                          </div>
                                        </div>
                                        <div class="row mt-1 w_428">
                                          <!-- <div  class="col-6">
                                                                                        <span *ngIf="addressError!= ''" class="text-danger">{{
                                                                                            addressError
                                                                                            }}</span>
                                                                                        <div  class="title-52 text-grey-shade2">Street</div>
                                                                                        <div  class="position-relative required_field11">
                                                                                            <img  src="../../assets/icons/pencile.svg"
                                                                                            alt="" width="17px" class="top-right-icon2">
                                                                                            <input  type="text" formControlName="address" class="field-input2 "

                                                                                             placeholder="Type here">
                                                                                        </div>
                                                                                    </div> -->
                                          <div class="col-md-6">
                                            <div class="form-group">
                                              <div
                                                class="d-flex align-items-center required_field3"
                                              >
                                                <div class="title_4">
                                                  Street
                                                </div>
                                              </div>
                                              <span
                                                *ngIf="addressError != ''"
                                                class="text-danger"
                                                >{{ addressError }}
                                              </span>
                                              <div
                                                class="position-relative borderr2"
                                              >
                                                <input
                                                  type="text"
                                                  class="myinput-new myinput3 px-1"
                                                  id="project_street"
                                                  placeholder="Type here"
                                                />
                                                <img
                                                  src="../../assets/icons/pencil2_0.svg"
                                                  width="21px"
                                                  alt=""
                                                  class="edit-icon-top-right"
                                                />
                                              </div>
                                            </div>
                                          </div>

                                          <!-- <div  class="col-6">
                                                                                        <span *ngIf="cityError!= ''" class="text-danger">{{
                                                                                            cityError
                                                                                            }}</span>
                                                                                        <div  class="title-52 text-grey-shade2 text-right">City/Town</div>
                                                                                        <div  class="position-relative required_field12">
                                                                                            <img  src="../../assets/icons/pencile.svg"
                                                                                            alt="" width="17px" class="top-left-icon2">
                                                                                            <input  type="text" formControlName="city" class="field-input2 text-right "

                                                                                            placeholder="Type here">
                                                                                        </div>
                                                                                    </div> -->

                                          <div class="col-md-6">
                                            <div class="form-group">
                                              <div
                                                class="d-flex align-items-center justify-content-between h_15"
                                              >
                                                <div
                                                  class="required_field_label ml-5px mr-2"
                                                >
                                                  *
                                                </div>
                                                <div class="title_4">
                                                  City/Town
                                                </div>
                                              </div>
                                              <span
                                                *ngIf="cityError != ''"
                                                class="text-danger"
                                                >{{ cityError }}
                                              </span>
                                              <div
                                                class="position-relative borderr2"
                                              >
                                                <img
                                                  src="../../assets/icons/pencil2_0.svg"
                                                  width="21px"
                                                  alt=""
                                                  class="edit-icon-top-right edit-icon-top-right2"
                                                />
                                                <input
                                                  type="text"
                                                  class="myinput-new myinput3 text-right"
                                                  id="project_city"
                                                  placeholder="Type here"
                                                />
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row mt-2 w_428">
                                          <div class="col-4">
                                            <span
                                              *ngIf="countryError != ''"
                                              class="text-danger"
                                              >{{ countryError }}</span
                                            >
                                            <div class="title_4">Country</div>
                                            <div
                                              class="position-relative required_field11"
                                            >
                                              <select
                                                id="project_country"
                                                (change)="setCountry($event)"
                                                class="field-input2"
                                              >
                                                <option
                                                  value="Canada"
                                                  [selected]="
                                                    this.country == 'Canada'
                                                  "
                                                >
                                                  Canada
                                                </option>
                                                <option
                                                  value="USA"
                                                  [selected]="
                                                    this.country == 'USA'
                                                  "
                                                >
                                                  USA
                                                </option>
                                              </select>
                                            </div>
                                          </div>
                                          <div class="col-4">
                                            <span
                                              *ngIf="provinceError != ''"
                                              class="text-danger"
                                              >{{ provinceError }}</span
                                            >
                                            <div class="title_4 text-center">
                                              Province/State
                                            </div>
                                            <div
                                              class="position-relative required_field11"
                                            >
                                              <select
                                                type="text"
                                                class="field-input2"
                                                id="project_province"
                                              >
                                                <ng-container
                                                  *ngIf="
                                                    this.country == 'Canada'
                                                  "
                                                >
                                                  <option
                                                    value=""
                                                    [selected]="!this.province"
                                                  >
                                                    Select
                                                  </option>
                                                  <option
                                                    *ngFor="
                                                      let pro of this
                                                        .canada_provinces
                                                    "
                                                    value="{{ pro }}"
                                                    [selected]="
                                                      pro == this.province
                                                    "
                                                  >
                                                    {{ pro }}
                                                  </option>
                                                </ng-container>

                                                <ng-container
                                                  *ngIf="this.country == 'USA'"
                                                >
                                                  <option
                                                    value=""
                                                    [selected]="!this.province"
                                                  >
                                                    Select
                                                  </option>
                                                  <option
                                                    *ngFor="
                                                      let pro of this
                                                        .usa_provinces
                                                    "
                                                    value="{{ pro }}"
                                                    [selected]="
                                                      pro == this.province
                                                    "
                                                  >
                                                    {{ pro }}
                                                  </option>
                                                </ng-container>
                                              </select>
                                            </div>
                                          </div>
                                          <div class="col-4">
                                            <div class="title_4 text-right">
                                              Postal Code
                                            </div>
                                            <div class="position-relative">
                                              <img
                                                src="../../assets/icons/pencil2_0.svg"
                                                alt=""
                                                width="21px"
                                                class="top-left-icon2 edit-icon-top-right2"
                                              />
                                              <input
                                                type="text"
                                                placeholder="Type here"
                                                id="project_post_code"
                                                class="field-input2 text-right"
                                              />
                                            </div>
                                          </div>
                                        </div>

                                        <div class="row w_428">
                                          <div class="col-4"></div>
                                          <div
                                            class="col-4 d-flex justify-content-center"
                                          >
                                            <button
                                              *ngIf="!is_loading"
                                              type="button"
                                              class="mybtn mybtn-padding update_btn"
                                              (click)="setAddProjectAddress()"
                                            >
                                              Update
                                            </button>
                                            <button
                                              *ngIf="is_loading"
                                              type="button"
                                              disabled
                                              class="mybtn mybtn-padding update_btn"
                                            >
                                              Updating...
                                            </button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="cp-3">
                                <div class="form-group">
                                  <div
                                    class="d-flex align-items-center justify-content-between"
                                  >
                                    <div class="title_4">Address</div>
                                    <div
                                      class="required_field_label ml-5px mr-2"
                                    >
                                      *
                                    </div>
                                  </div>
                                  <span
                                    *ngIf="
                                      addProject.get('project_name')?.invalid &&
                                      form_clicked
                                    "
                                    class="text-danger"
                                  >
                                    Address is required.
                                  </span>
                                  <input type="hidden" formControlName="city" />
                                  <input
                                    type="hidden"
                                    formControlName="street"
                                  />
                                  <input
                                    type="hidden"
                                    formControlName="state"
                                  />
                                  <div
                                    class="position-relative borderr2"
                                    data-target="#addNewAddress"
                                    data-toggle="modal"
                                  >
                                    <input
                                      type="text"
                                      class="myinput-new myinput3 c_p"
                                      id="complete_address_project"
                                      placeholder="Type here"
                                    />
                                    <img
                                      src="../../assets/icons/pencil2_0.svg"
                                      width="21px"
                                      alt=""
                                      class="edit-icon-top-right"
                                    />
                                  </div>
                                </div>
                                <!-- <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">Street</div>
                                                                                <div class="required_field_label ml-5px">*</div>
                                                                            </div>
                                                                            <span *ngIf="addProject.get('street')?.invalid && (form_clicked)"
                                                                            class="text-danger">
                                                                                Street is required.
                                                                            </span>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" formControlName="street" placeholder="...">
                                                                                <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">City</div>
                                                                                <div class="required_field_label ml-5px">*</div>
                                                                            </div>
                                                                            <span *ngIf="addProject.get('city')?.invalid && (form_clicked)"
                                                                            class="text-danger">
                                                                                City is required.
                                                                            </span>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" formControlName="city" placeholder="...">
                                                                                <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div> -->
                              </div>
                              <!-- <div class="myhr2"></div>
                                                            <div class="cp-3">
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">Province/ State</div>
                                                                                <div class="required_field_label ml-5px">*</div>
                                                                            </div>
                                                                            <span *ngIf="addProject.get('state')?.invalid && (form_clicked)"
                                                                            class="text-danger">
                                                                                State is required.
                                                                            </span>
                                                                            <div class="position-relative">

                                                                                <select formControlName="state" class="select_state icon-none myinput-new myinput3"  >
                                                                                    <option value=''>Select</option>
                                                                                    <option value="Alberta">Alberta </option>
                                                                                    <option value="British Columbia">British Columbia</option>
                                                                                    <option value="Manitoba">Manitoba </option>
                                                                                    <option value="New Brunswick">New Brunswick </option>
                                                                                    <option value="NewFoundland and Labrador">NewFoundland and Labrador </option>
                                                                                    <option value="Northwest Territories">Northwest Territories </option>
                                                                                    <option value="Nova Scotia">Nova Scotia </option>
                                                                                    <option value="Nunavut">Nunavut </option>
                                                                                    <option value="Ontario">Ontario </option>
                                                                                    <option value="Prince Edward Island">Prince Edward Island </option>
                                                                                    <option value="Quebec">Quebec </option>
                                                                                    <option value="Saskatchewan">Saskatchewan </option>
                                                                                    <option value="Yukon">Yukon </option>
                                                                                </select>
                                                                                <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="d-flex justify-content-between align-items-center mb-14">
                                                                            <div>Default project</div>
                                                                            <div>
                                                                                <input type="checkbox" name="" id="" (change)="setDefaultAddProj($event)">

                                                                                <input type="hidden" formControlName="is_default">
                                                                            </div>
                                                                        </div>
                                                                        <div class="desc-1 text-black width-200px">Default project details are shown when you create a ticket. You can make always changes </div>
                                                                    </div>
                                                                </div>
                                                            </div> -->
                            </div>
                            <div
                              class="d-flex justify-content-between align-items-center mb_20"
                            >
                              <div class="title-5-new text-black">
                                Dump site
                              </div>
                            </div>
                            <div class="div-1 mb-35">
                              <div class="cp-3">
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <div
                                        class="d-flex align-items-center required_field3"
                                      >
                                        <div class="title_4">
                                          Dump site name
                                        </div>
                                      </div>
                                      <span
                                        *ngIf="
                                          addProject.get('dumpsite_name')
                                            ?.invalid && form_clicked
                                        "
                                        class="text-danger"
                                      >
                                        Dump site name is required.
                                      </span>
                                      <div class="position-relative borderr2">
                                        <input
                                          type="text"
                                          class="myinput-new myinput3"
                                          formControlName="dumpsite_name"
                                          placeholder="Type here"
                                        />
                                        <img
                                          src="../../assets/icons/pencile-grey.png"
                                          alt=""
                                          class="edit-icon-top-right"
                                        />
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group">
                                      <div
                                        class="d-flex align-items-center justify-content-between h_15"
                                      >
                                        <div
                                          class="required_field_label ml-5px mr-2"
                                        >
                                          *
                                        </div>
                                        <div class="title_4">
                                          Dump site address
                                        </div>
                                      </div>
                                      <span
                                        *ngIf="
                                          addProject.get('location')?.invalid &&
                                          form_clicked
                                        "
                                        class="text-danger"
                                      >
                                        Dump site address is required.
                                      </span>
                                      <div class="position-relative borderr2">
                                        <input
                                          type="text"
                                          class="myinput-new myinput3"
                                          formControlName="location"
                                          placeholder="Enter"
                                        />
                                        <img
                                          src="../../assets/icons/pencil2_0.svg"
                                          width="21px"
                                          alt=""
                                          class="edit-icon-top-right"
                                        />
                                      </div>
                                    </div>
                                  </div>

                                  <!-- <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">Name</div>
                                                                            </div>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" placeholder="Type here" formControlName="dumpsite_name">
                                                                                <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">Dump site address</div>
                                                                            </div>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" placeholder="..." formControlName="location">
                                                                                <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                                                            </div>
                                                                        </div>
                                                                    </div> -->
                                </div>
                              </div>
                            </div>
                            <!-- <div class="d-flex justify-content-between align-items-center mb-4px">
                                                            <div class="title-5-new text-black">Add job approver</div>
                                                        </div>
                                                        <div class="div-1 mb-35">
                                                            <div class="cp-3">
                                                                <div class="row">
                                                                    <div class="col-md-6">


                                                                        <div class="position-relative  getinputfield">
                                                                            <div class="desc-1 text-black-shade3 mb-7">Name</div>
                                                                            <div class="position-relative input-div ">
                                                                                <div class="myinput-new" *ngIf="!set_appr">Select</div>
                                                                                <div class="myinput-new" *ngIf="set_appr">{{set_appr.full_name}}</div>
                                                                                <img src="../../assets/icons/arrow-down.png" class="icon-center-right">
                                                                            </div>
                                                                            <div class="input-popup-div job-appr">
                                                                                <div class="title-19 text-color-grey mb-17">Job approver</div>
                                                                                <ng-container *ngFor="let appr of appr_lists">
                                                                                    <div class="title-5-new mb-11" (click)="setAppr(appr)">{{appr.full_name}}</div>
                                                                                </ng-container>

                                                                                <div class="position-relative getinputfield2">
                                                                                    <div class="myinput-new myinput3 text-color-black-shade8">Add</div>
                                                                                    <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                                                </div>
                                                                                <div class="input-popup-div2">
                                                                                    <div class="title-3 text-center mb-19">Add approver</div>
                                                                                    <form  [formGroup]="addApprover" (ngSubmit)="onAddApprover()">
                                                                                        <div class="d-flex align-items-center">
                                                                                            <div class="desc-5 text-black-shade3 mb-7">Name</div>
                                                                                            <div class="required_field_label ml-5px">*</div>
                                                                                        </div>
                                                                                        <span *ngIf="addApprover.get('full_name')?.invalid && (form_clicked)"
                                                                                        class="text-danger">
                                                                                            Name is required.
                                                                                        </span>
                                                                                        <div class="position-relative mb-15">
                                                                                            <input type="text" formControlName="full_name" class="myinput-new myinput3" placeholder="Type here">
                                                                                            <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                                                        </div>

                                                                                        <div class="desc-5 text-black-shade3 mb-7">Contact number</div>
                                                                                        <div class="position-relative mb-15">
                                                                                            <input type="text" class="myinput-new myinput3" formControlName="contact_number" (input)="changeNumber3($event)" placeholder="(---) --- ----">
                                                                                            <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                                                        </div>

                                                                                        <div class="d-flex align-items-center">
                                                                                            <div class="desc-5 text-black-shade3 mb-7">Email address</div>
                                                                                            <div class="required_field_label ml-5px">*</div>
                                                                                        </div>
                                                                                        <span *ngIf="addApprover.get('email')?.invalid && (form_clicked)"
                                                                                        class="text-danger">
                                                                                            Email is required.
                                                                                        </span>
                                                                                        <div class="position-relative mb-15">
                                                                                            <input type="text" class="myinput-new myinput3" formControlName="email" placeholder="Type here">
                                                                                            <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                                                        </div>
                                                                                        <div align="center" class="mb-17">
                                                                                            <button class="mybtn2 bg-medium-blue cp-4 text-white" *ngIf="is_loading_add =='' || is_loading_add !='approver'">Add</button>
                                                                                            <button class="mybtn2 bg-medium-blue cp-4 text-white" *ngIf="is_loading_add !='' && is_loading_add =='approver'" disabled>Processing...</button>

                                                                                        </div>
                                                                                    </form>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="desc-1 text-black-shade3 mb-7 text-right">Phone number </div>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" placeholder="" formControlName="contact_number">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="myhr2"></div>
                                                            <div class="cp-3">
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <div class="d-flex align-items-center">
                                                                                <div class="desc-1 text-black-shade3 mb-7">Email </div>
                                                                            </div>
                                                                            <div class="position-relative">
                                                                                <input type="text" class="myinput-new myinput3" placeholder="" formControlName="email">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div> -->
                            <div align="center" class="">
                              <button
                                class="mybtn2 bg-medium-blue cp-4 text-white br-5 mybtn5"
                                (click)="handleAddProject()"
                                *ngIf="
                                  is_loading_add == '' ||
                                  is_loading_add != 'add_project'
                                "
                              >
                                Add
                              </button>
                              <button
                                class="mybtn2 bg-medium-blue cp-4 text-white br-5 mybtn5"
                                *ngIf="
                                  is_loading_add != '' &&
                                  is_loading_add == 'add_project'
                                "
                                disabled
                              >
                                Processing..
                              </button>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row box_4 brdr_n ml_30">
                <div class="d-flex mx_57">
                  <div class="num_span">2</div>
                  <div class="txt_span2">
                    Set who are <span class="bold-span">&nbsp;your&nbsp;</span
                    ><br />customers
                  </div>
                </div>
                <div class="nav nav-pills nav-fill ticket-tabs ml-30px">
                  <a
                    class="btn_active btn_active2"
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      align-content: center;
                      justify-content: center;
                      color: #17a1fa !important;
                      background-color: #ffffff !important;
                      border: 1px solid #17a1fa;
                      font-size: 12px !important;
                    "
                  >
                    Customers
                  </a>
                </div>
              </div>

              <div class="row box_4 pt-0 brdr_n ml_100">
                <div class="d-flex mx_57">
                  <div class="num_span">3</div>
                  <div class="txt_span2">
                    Set who are<span class="bold-span">&nbsp;your&nbsp;</span
                    ><br />vendors
                  </div>
                </div>
                <div class="nav nav-pills nav-fill ticket-tabs ml-30px">
                  <a
                    class="btn_active btn_active2"
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      align-content: center;
                      justify-content: center;
                      color: #17a1fa !important;
                      background-color: #ffffff !important;
                      border: 1px solid #17a1fa;
                      font-size: 12px !important;
                    "
                  >
                    Vendors
                  </a>
                </div>
              </div>

              <div class="row box_4 pt-0 brdr_n ml_30">
                <div class="d-flex">
                  <div class="num_span">4</div>
                  <div class="txt_span2">
                    Dispatch to your vendors, assign tickets <br />to your
                    drivers and track the progress
                  </div>
                </div>
                <div class="nav nav-pills nav-fill ticket-tabs ml-30px">
                  <a
                    class="btn_active btn_active2"
                    style="
                      display: flex;
                      flex-wrap: wrap;
                      align-content: center;
                      justify-content: center;
                      font-family: 'Gilroy' !important;
                      font-size: 12px !important;
                      line-height: 8.33px;
                      color: #ffffff !important;
                    "
                  >
                    <span class="first-line" style="white-space: nowrap">
                      <span
                        class="bold-span"
                        style="font-family: 'Gilroy-Bold' !important"
                        >&nbsp;Dispatch&nbsp;</span
                      >
                      any
                    </span>
                    <span>
                      <br />
                      number of tickets
                    </span>
                  </a>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-3 borderr">
              <div class=" ">
                <div class="row">
                  <div class="col-md-8 box_5 px-0 pl-1">
                    Truck and driver search
                  </div>

                  <div class="col-md-3 box_2">
                    <a class="box_5_btn bg_grey"> Pending </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-8 box_5 px-0 pl-1">
                    The project has Truck and Driver
                  </div>

                  <div class="col-md-3 box_2">
                    <a class="box_5_btn bg_yellow"> Accepted </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-8 box_5 px-0 pl-1">Track the progress</div>

                  <div class="col-md-3 box_2">
                    <a class="box_5_btn bg_orange"> Driving </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-8 box_5 px-0 pl-1">
                    Job waiting for approval
                  </div>

                  <div class="col-md-3 box_2">
                    <a class="box_5_btn bg_green"> Completed </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-8 box_5 px-0 pl-1">
                    Ready for invoicing
                  </div>

                  <div class="col-md-3 box_2">
                    <a class="box_5_btn bg_blue"> Approved </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
<div
  class="modal fade come-from-modal right show"
  id="edit_cc"
  *ngIf="edit_cc"
  tabindex="-1 "
  role="dialog "
  aria-labelledby="myModalLabel "
>
  <div class="modal-dialog max-width-30 edit-cc-d" role="document ">
    <div class="modal-content borderr">
      <div class="modal-body">
        <div class="d-flex align-items-center mb-20">
          <div>
            <img src="../../assets/icons/cc-project-icon.svg" alt="" />
          </div>
          <div class="col-10">
            <div class="ml-3 project-name cc-title">
              {{ this.edit_cc?.company_name }}
            </div>
          </div>
        </div>
        <div class="d-flex align-items-center justify-content mb-20">
          <div
            class="nav-item title-400-bold {{
              active_cc == 'company' ? 'active' : ''
            }}"
            (click)="setActive('company')"
          >
            Company
          </div>
          <div
            class="nav-item title-400-bold ml-10px  {{
              active_cc == 'projects' ? 'active' : ''
            }}"
            (click)="setActive('projects')"
          >
            Projects
          </div>
        </div>

        <!-- Company tab -->
        <div class="" *ngIf="active_cc == 'company'">
          <form [formGroup]="editCCForm" (ngSubmit)="onEditCC()">
            <div class="border-div mb-20">
              <div class="row">
                <div class="col-md-6 p-5px">
                  <div class="title-400-regular">
                    Company name
                    <span class="text-danger required-text float-right">*</span>
                  </div>
                  <div class="my-input input-left">
                    <input
                      type="text"
                      class="no-border heading-400-bold"
                      [value]="this.edit_cc?.company_name"
                      readonly
                    />
                    <div class="icon-right-input">
                      <img src="assets/icons/edit-icon-grey.svg" />
                    </div>
                  </div>
                </div>
                <div class="col-md-6 text-end p-5px">
                  <div class="title-400-regular">Address</div>
                  <div
                    class="my-input input-left"
                    (click)="setEditAddress(this.edit_cc)"
                  >
                    <input
                      type="text"
                      class="cursor-pointer no-border heading-400-bold"
                      [value]="this.full_address"
                      readonly
                    />
                    <div class="icon-right-input cursor-pointer">
                      <img src="assets/icons/edit-icon-grey.svg" />
                    </div>
                  </div>
                  <input type="hidden" formControlName="street" />
                  <input type="hidden" formControlName="city" />
                  <input type="hidden" formControlName="state" />
                  <input type="hidden" formControlName="country" />
                  <div style="position: absolute; width: 100%">
                    <div
                      tabindex="-1"
                      class="modal fade"
                      *ngIf="this.show_edit_cc_address"
                      style="position: relative !important; display: block"
                      id="addNewAddress2"
                      aria-labelledby="addNewAddress2"
                      aria-modal="true"
                      role="dialog"
                    >
                      <div
                        class="modal-dialog margin-auto d-flex justify-content-center"
                      >
                        <div class="modal-content borderr2 w_h_modal">
                          <div
                            class="modal-body address-modal main_div_address"
                          >
                            <div class="row w_428">
                              <div class="col-12 ml-1 mb-2 px-0">
                                <div
                                  class="col-12 text-center d-flex justify-content-center align-items-center"
                                >
                                  <div class="heading_7 text-center">
                                    Add/update address
                                  </div>
                                  <div class="float-right">
                                    <button
                                      type="button"
                                      (click)="closeModal('addNewAddress2')"
                                      aria-label="Close"
                                      class="my-modal-close border-0 bg-transparent shadow-none"
                                    >
                                      <img
                                        src="./assets/images/cross_2.svg"
                                        alt="Close"
                                        style="
                                          width: 14px;
                                          height: 14px;
                                          margin-top: -10px;
                                          margin-right: -15px;
                                          position: absolute;
                                          right: 24px;
                                        "
                                      />
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row mt-1 w_428">
                              <div class="col-md-6">
                                <div class="form-group">
                                  <div
                                    class="d-flex align-items-center required_field3"
                                  >
                                    <div class="title_4">Street</div>
                                  </div>
                                  <span
                                    *ngIf="addressError != ''"
                                    class="text-danger"
                                    >{{ addressError }}
                                  </span>
                                  <div class="position-relative borderr2">
                                    <input
                                      type="text"
                                      class="myinput-new myinput3 px-1"
                                      value="{{ this.cc_street }}"
                                      id="edit_street"
                                      placeholder="Type here"
                                    />
                                    <img
                                      src="../../assets/icons/pencil2_0.svg"
                                      width="21px"
                                      alt=""
                                      class="edit-icon-top-right"
                                    />
                                  </div>
                                </div>
                              </div>

                              <div class="col-md-6">
                                <div class="form-group">
                                  <div
                                    class="d-flex align-items-center justify-content-between h_15"
                                  >
                                    <div
                                      class="required_field_label ml-5px mr-2"
                                    >
                                      *
                                    </div>
                                    <div class="title_4 text-left">
                                      City/Town
                                    </div>
                                  </div>
                                  <span
                                    *ngIf="cityError != ''"
                                    class="text-danger"
                                    >{{ cityError }}
                                  </span>
                                  <div class="position-relative borderr2">
                                    <img
                                      src="../../assets/icons/pencil2_0.svg"
                                      width="21px"
                                      alt=""
                                      class="edit-icon-top-right edit-icon-top-right2"
                                    />
                                    <input
                                      type="text"
                                      class="myinput-new myinput3 text-right"
                                      value="{{ this.cc_city }}"
                                      id="edit_city"
                                      placeholder="Type here"
                                    />
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row mt-2 w_428">
                              <div class="col-4">
                                <span
                                  *ngIf="countryError != ''"
                                  class="text-danger"
                                  >{{ countryError }}</span
                                >
                                <div class="title_4 text-left">Country</div>
                                <div class="position-relative required_field11">
                                  <select
                                    id="edit_country"
                                    (change)="setCCCountry($event)"
                                    class="field-input2 color-grey"
                                  >
                                    <option
                                      value="Canada"
                                      [selected]="this.cc_country == 'Canada'"
                                    >
                                      Canada
                                    </option>
                                    <option
                                      value="USA"
                                      [selected]="this.cc_country == 'USA'"
                                    >
                                      USA
                                    </option>
                                  </select>
                                </div>
                              </div>
                              <div class="col-4">
                                <span
                                  *ngIf="provinceError != ''"
                                  class="text-danger"
                                  >{{ provinceError }}</span
                                >
                                <div class="title_4 text-center">
                                  Province/State
                                </div>
                                <div class="position-relative required_field11">
                                  <select
                                    type="text"
                                    class="field-input2 color-grey"
                                    id="edit_province"
                                    (change)="setCCProvince($event)"
                                  >
                                    <ng-container
                                      *ngIf="this.cc_country == 'Canada'"
                                    >
                                      <option
                                        value=""
                                        [selected]="!this.cc_province"
                                      >
                                        Select
                                      </option>
                                      <option
                                        *ngFor="
                                          let pro of this.canada_provinces
                                        "
                                        value="{{ pro }}"
                                        [selected]="pro == this.cc_province"
                                      >
                                        {{ pro }}
                                      </option>
                                    </ng-container>

                                    <ng-container
                                      *ngIf="this.cc_country == 'USA'"
                                    >
                                      <option
                                        value=""
                                        [selected]="!this.cc_province"
                                      >
                                        Select
                                      </option>
                                      <option
                                        *ngFor="let pro of this.usa_provinces"
                                        value="{{ pro }}"
                                        [selected]="pro == this.cc_province"
                                      >
                                        {{ pro }}
                                      </option>
                                    </ng-container>
                                  </select>
                                </div>
                              </div>
                              <div class="col-4">
                                <div class="title_4 text-right">
                                  Postal Code
                                </div>
                                <div class="position-relative">
                                  <img
                                    src="../../assets/icons/pencil2_0.svg"
                                    alt=""
                                    width="21px"
                                    class="top-left-icon2 edit-icon-top-right2 color-grey"
                                  />
                                  <input
                                    type="text"
                                    placeholder="Type here"
                                    value="{{ this.cc_postcode }}"
                                    id="edit_postcode"
                                    class="field-input2 text-right color-grey"
                                  />
                                </div>
                              </div>
                            </div>

                            <div class="row w_428">
                              <div class="col-4"></div>
                              <div class="col-4 d-flex justify-content-center">
                                <button
                                  type="button"
                                  class="mybtn mybtn-padding update_btn"
                                  (click)="updateAddress()"
                                >
                                  Update
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Dumpsites -->
            <div
              class="text-black font-size-14 font-semibold mb-10px d-flex align-items-center justify-content-between"
            >
              Dump sites
              <div
                class="add-btn"
                (click)="showCustomModal('.modal-add-dumpsite')"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_15973_3526"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="24"
                    height="25"
                  >
                    <rect
                      y="0.000488281"
                      width="24"
                      height="24"
                      fill="#D9D9D9"
                    />
                  </mask>
                  <g mask="url(#mask0_15973_3526)">
                    <path
                      d="M11 19.0005V13.0005H5V11.0005H11V5.00049H13V11.0005H19V13.0005H13V19.0005H11Z"
                      fill="white"
                    />
                  </g>
                </svg>
              </div>
            </div>

            <!-- Dumpsite Popups -->
            <div class="position-relative">
              <!--ADd dumpsite popup-->
              <div
                style="
                  position: absolute;
                  width: 100%;
                  display: none;
                  padding: 5px 10px;
                "
                class="modal-add-dumpsite"
              >
                <div class="row mb-15px">
                  <div
                    class="col-12 text-center d-flex justify-content-start align-items-center"
                  >
                    <div class="heading_7 text-center">Add new dump site</div>
                    <div class="float-right">
                      <button
                        type="button"
                        (click)="hideCustomModal('.modal-add-dumpsite')"
                        aria-label="Close"
                        class="my-modal-close border-0 bg-transparent shadow-none"
                      >
                        <img
                          src="./assets/images/cross_2.svg"
                          alt="Close"
                          style="
                            width: 14px;
                            height: 14px;
                            margin-top: -7px;
                            margin-right: -10px;
                            position: absolute;
                            right: 24px;
                          "
                        />
                      </button>
                    </div>
                  </div>
                </div>
                <div class="row mb-15px">
                  <div class="col-md-6">
                    <div class="form-group">
                      <div class="d-flex align-items-center required_field3">
                        <div class="title_4">Dump site name</div>
                      </div>
                      <span *ngIf="newDSNameError != ''" class="text-danger"
                        >{{ newDSNameError }}
                      </span>
                      <div class="position-relative borderr2">
                        <input
                          type="text"
                          class="myinput-new myinput3 px-1"
                          id="dumpsite_name_new"
                          placeholder="Type here"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <div
                        class="d-flex align-items-center justify-content-end h_15"
                      >
                        <div class="title_4 text-left">Dump site address</div>
                        <div class="required_field_label ml-5px mr-2">*</div>
                      </div>
                      <span *ngIf="newDSAddressError != ''" class="text-danger"
                        >{{ newDSAddressError }}
                      </span>
                      <div class="position-relative borderr2">
                        <input
                          type="text"
                          class="myinput-new myinput3 text-right pr-4px cursor-pointer"
                          id="dumpsite_address_new"
                          placeholder="Type here"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 d-flex justify-content-center">
                    <button
                      type="button"
                      class="mybtn mybtn-padding update_btn"
                      (click)="addCCDumpsiteNew()"
                    >
                      Add
                    </button>
                  </div>
                </div>
              </div>

              <!--Edit dumpsite popup-->
              <div
                style="
                  position: absolute;
                  width: 100%;
                  display: none;
                  padding: 5px 10px;
                "
                class="modal-edit-dumpsite"
              >
                <div class="row mb-15px">
                  <div
                    class="col-12 text-center d-flex justify-content-start align-items-center"
                  >
                    <div class="heading_7 text-center">
                      Edit / remove dump site
                    </div>
                    <div class="float-right">
                      <button
                        type="button"
                        (click)="hideCustomModal('.modal-edit-dumpsite')"
                        aria-label="Close"
                        class="my-modal-close border-0 bg-transparent shadow-none"
                      >
                        <img
                          src="./assets/images/cross_2.svg"
                          alt="Close"
                          style="
                            width: 14px;
                            height: 14px;
                            margin-top: -7px;
                            margin-right: -10px;
                            position: absolute;
                            right: 24px;
                          "
                        />
                      </button>
                    </div>
                  </div>
                </div>
                <div class="row mb-15px">
                  <div class="col-md-6">
                    <div class="form-group">
                      <div class="d-flex align-items-center required_field3">
                        <div class="title_4">Dump site name</div>
                      </div>
                      <span *ngIf="editDSNameError != ''" class="text-danger"
                        >{{ editDSNameError }}
                      </span>
                      <div class="position-relative borderr2">
                        <input
                          type="text"
                          class="myinput-new myinput3 px-1"
                          value="{{ this.edit_ds?.dump_site }}"
                          id="dumpsite_name_edit"
                          placeholder="Type here"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <div
                        class="d-flex align-items-center justify-content-end h_15"
                      >
                        <div class="title_4 text-left">Dump site address</div>
                        <div class="required_field_label ml-5px mr-2">*</div>
                      </div>
                      <span *ngIf="editDSAddressError != ''" class="text-danger"
                        >{{ editDSAddressError }}
                      </span>
                      <div class="position-relative borderr2">
                        <input
                          type="text"
                          class="myinput-new myinput3 text-right pr-4px"
                          value="{{ this.edit_ds?.location }}"
                          id="dumpsite_address_edit"
                          placeholder="Type here"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 d-flex justify-content-center">
                    <button
                      type="button"
                      class="mybtn mybtn-padding update_btn"
                      (click)="updateCCDumpsiteNew()"
                    >
                      Update
                    </button>
                    <div class="ml-3">
                      <button
                        type="button"
                        class="mybtn mybtn-padding remove_btn text-17A1FA font-size-15 mt-10px p-5px"
                        (click)="removeCCDumpsite()"
                      >
                        Remove
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Dumpsites list -->
            <ng-container
              *ngIf="this.edit_cc?.dump_sites?.length > 0; else Block2"
            >
              <ng-container *ngFor="let ds of this.edit_cc?.dump_sites">
                <div class="border-div mb-20">
                  <div class="row w-100 cursor-pointer">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">
                        Dump site name
                        <span class="text-danger required-text float-right"
                          >*</span
                        >
                      </div>
                      <div class="my-input input-left" (click)="setDSEdit(ds)">
                        <input
                          type="text"
                          class="no-border heading-400-bold"
                          value="{{ ds?.dump_site }}"
                          readonly
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-end p-5px">
                      <div class="title-400-regular">
                        Dump site address
                        <span class="text-danger required-text float-left"
                          >*</span
                        >
                      </div>
                      <div
                        class="my-input input-right pr-20px"
                        (click)="setDSEdit(ds)"
                      >
                        <input
                          type="text"
                          class="no-border field-right heading-400-bold"
                          value="{{ ds?.location }}"
                          readonly
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
            <ng-template #Block2>
              <div class="border-div mb-20">
                <div class="row w-100 curser-pointer">
                  <div
                    class="col-md-12 p-5px font-bold font-size-13 text-black"
                  >
                    No dump sites.
                  </div>
                </div>
              </div>
            </ng-template>

            <!-- Contacts - approvers -->
            <div
              class="text-black font-size-14 font-semibold mb-10px d-flex align-items-center justify-content-between"
            >
              Contacts - approvers
              <div
                class="add-btn"
                (click)="showCustomModal('.modal-add-contact')"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_15973_3526"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="24"
                    height="25"
                  >
                    <rect
                      y="0.000488281"
                      width="24"
                      height="24"
                      fill="#D9D9D9"
                    />
                  </mask>
                  <g mask="url(#mask0_15973_3526)">
                    <path
                      d="M11 19.0005V13.0005H5V11.0005H11V5.00049H13V11.0005H19V13.0005H13V19.0005H11Z"
                      fill="white"
                    />
                  </g>
                </svg>
              </div>
            </div>

            <div class="position-relative">
              <!-- Popup Add Approver -->
              <div
                style="
                  position: absolute;
                  width: 100%;
                  display: none;
                  padding: 5px 10px;
                "
                class="modal-add-contact"
              >
                <div class="row mb-15px">
                  <div
                    class="col-12 text-center d-flex justify-content-start align-items-center"
                  >
                    <div class="heading_7 text-center">Add contact</div>
                    <div class="float-right">
                      <button
                        type="button"
                        (click)="hideCustomModal('.modal-add-contact')"
                        aria-label="Close"
                        class="my-modal-close border-0 bg-transparent shadow-none"
                      >
                        <img
                          src="./assets/images/cross_2.svg"
                          alt="Close"
                          style="
                            width: 14px;
                            height: 14px;
                            margin-top: -7px;
                            margin-right: -10px;
                            position: absolute;
                            right: 24px;
                          "
                        />
                      </button>
                    </div>
                  </div>
                </div>

                <div class="border-div mb-20">
                  <div class="row">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">
                        Name
                        <span class="text-danger required-text float-right"
                          >*</span
                        >
                      </div>
                      <span *ngIf="name_error != ''" class="text-danger"
                        >{{ name_error }}
                      </span>
                      <div class="my-input input-left">
                        <input
                          type="text"
                          class="no-border heading-400-bold"
                          id="add_contact_name"
                          placeholder="Type here"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-end p-5px">
                      <div class="title-400-regular">Phone number</div>
                      <div class="my-input input-right pr-20px">
                        <input
                          type="text"
                          class="no-border field-right heading-400-bold"
                          id="add_contact_phone"
                          placeholder="Type here"
                          (input)="changeNumber4($event, 'add_contact_phone')"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">
                        Email
                        <span class="text-danger required-text float-right"
                          >*</span
                        >
                      </div>
                      <span *ngIf="email_error != ''" class="text-danger"
                        >{{ email_error }}
                      </span>
                      <div class="my-input input-left">
                        <input
                          type="text"
                          class="no-border heading-400-bold"
                          id="add_contact_email"
                          placeholder="type@here"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-end p-5px">
                      <div class="title-400-regular">Role</div>
                      <div
                        class="my-input input-right pr-20px input-div getinputfield position-relative"
                      >
                        <div
                          class="{{
                            this.set_role
                              ? 'heading-400-bold'
                              : 'heading-400-regular text-left text-color-grey'
                          }}  cursor-pointer"
                        >
                          {{ this.set_role ? this.set_role : "Select" }}
                        </div>
                        <img
                          src="../../assets/images/dropdown.svg"
                          class="icon-center-right cursor-pointer"
                        />
                        <div
                          class="input-popup-div add-contact"
                          style="display: none"
                        >
                          <div
                            class="title-400-regular font-size-14 mb-5px text-left"
                          >
                            Select Role
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Approver', 'add')"
                          >
                            Approver
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Admin', 'add')"
                          >
                            Admin
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Bookkeeper', 'add')"
                          >
                            Bookkeeper
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="myhr22 mb-5px"></div>
                  <div class="row">
                    <div class="col-md-6 p-5px text-center">
                      <div class="title-400-regular">Default</div>
                      <div class="">
                        <input
                          type="checkbox"
                          class="custom-checkbox"
                          id="add_default_contact"
                        />
                      </div>
                    </div>
                    <div class="col-md-6 p-5px text-center">
                      <div class="title-400-regular">Send dispatch to</div>
                      <div class="">
                        <input
                          type="checkbox"
                          class="custom-checkbox"
                          id="add_contact_dispatch_to"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 d-flex justify-content-center">
                    <button
                      type="button"
                      class="mybtn mybtn-padding update_btn"
                      (click)="addCCContact()"
                    >
                      Add
                    </button>
                  </div>
                </div>
              </div>

              <!-- Popup Edit Contact -->
              <div
                style="
                  position: absolute;
                  width: 100%;
                  display: none;
                  padding: 5px 10px;
                "
                class="modal-edit-contact"
              >
                <div class="row mb-15px">
                  <div
                    class="col-12 text-center d-flex justify-content-start align-items-center"
                  >
                    <div class="heading_7 text-center">Edit contact</div>
                    <div class="float-right">
                      <button
                        type="button"
                        (click)="hideCustomModal('.modal-edit-contact')"
                        aria-label="Close"
                        class="my-modal-close border-0 bg-transparent shadow-none"
                      >
                        <img
                          src="./assets/images/cross_2.svg"
                          alt="Close"
                          style="
                            width: 14px;
                            height: 14px;
                            margin-top: -7px;
                            margin-right: -10px;
                            position: absolute;
                            right: 24px;
                          "
                        />
                      </button>
                    </div>
                  </div>
                </div>

                <div class="border-div mb-20">
                  <div class="row">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">
                        Name
                        <span class="text-danger required-text float-right"
                          >*</span
                        >
                      </div>
                      <span *ngIf="name_error != ''" class="text-danger"
                        >{{ name_error }}
                      </span>
                      <div class="my-input input-left">
                        <input
                          type="text"
                          class="no-border heading-400-bold"
                          id="edit_contact_name"
                          placeholder="Type here"
                          value="{{ this.edit_contact?.name }}"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-end p-5px">
                      <div class="title-400-regular">Phone number</div>
                      <div class="my-input input-right pr-20px">
                        <input
                          type="text"
                          class="no-border field-right heading-400-bold"
                          value="{{ this.edit_contact?.phone }}"
                          id="edit_contact_phone"
                          placeholder="Type here"
                          (input)="changeNumber4($event, 'edit_contact_phone')"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">
                        Email
                        <span class="text-danger required-text float-right"
                          >*</span
                        >
                      </div>
                      <span *ngIf="email_error != ''" class="text-danger"
                        >{{ email_error }}
                      </span>
                      <div class="my-input input-left">
                        <input
                          type="text"
                          class="no-border heading-400-bold"
                          id="edit_contact_email"
                          placeholder="type@here"
                          value="{{ this.edit_contact?.email }}"
                        />
                        <div class="icon-right-input">
                          <img src="assets/icons/edit-icon-grey.svg" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-end p-5px">
                      <div class="title-400-regular">Role</div>
                      <div
                        class="my-input input-right pr-20px input-div getinputfield position-relative"
                      >
                        <div
                          class="{{
                            this.set_role
                              ? 'heading-400-bold'
                              : 'heading-400-regular text-color-grey'
                          }}  cursor-pointer text-left"
                        >
                          {{ this.set_role ? this.set_role : "Select" }}
                        </div>
                        <img
                          src="../../assets/images/dropdown.svg"
                          class="icon-center-right cursor-pointer"
                        />
                        <div
                          class="input-popup-div add-contact"
                          style="display: none"
                        >
                          <div
                            class="title-400-regular font-size-14 mb-5px text-left"
                          >
                            Select Role
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Approver', 'edit')"
                          >
                            Approver
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Admin', 'edit')"
                          >
                            Admin
                          </div>
                          <div
                            class="title-5-new4 w-100 cursor-pointer"
                            (click)="setContactRole('Bookkeeper', 'edit')"
                          >
                            Bookkeeper
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="myhr22 mb-5px"></div>
                  <div class="row">
                    <div class="col-md-6 p-5px text-center">
                      <div class="title-400-regular">Default approver</div>
                      <div class="">
                        <input
                          type="checkbox"
                          class="custom-checkbox"
                          id="edit_default_contact"
                          [checked]="
                            this.edit_contact?.is_default == 1 ||
                            this.edit_contact?.is_default == '1'
                          "
                        />
                      </div>
                    </div>
                    <div class="col-md-6 p-5px text-center">
                      <div class="title-400-regular">Send dispatch to</div>
                      <div class="">
                        <input
                          type="checkbox"
                          class="custom-checkbox"
                          id="edit_contact_dispatch_to"
                          [checked]="
                            this.edit_contact?.is_send_dispatch == 1 ||
                            this.edit_contact?.is_send_dispatch == '1'
                          "
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 d-flex justify-content-center">
                    <button
                      type="button"
                      class="mybtn mybtn-padding update_btn"
                      (click)="updateCCContact()"
                    >
                      Update
                    </button>
                    <div class="ml-3">
                      <button
                        type="button"
                        class="mybtn mybtn-padding remove_btn text-17A1FA font-size-15 mt-10px p-5px"
                        (click)="removeCCContact(this.edit_contact)"
                      >
                        Remove
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Contacts List -->
              <ng-container *ngFor="let contact of this.edit_cc?.contacts">
                <div class="border-div mb-20" (click)="setContact(contact)">
                  <div class="row">
                    <div class="col-md-4 p-5px">
                      <div class="title-400-regular">Name</div>

                      <div
                        class="no-border heading-400-bold text-black pt-5px pb-5px"
                      >
                        {{ contact?.name }}
                      </div>
                    </div>
                    <div class="col-md-4 p-5px text-center">
                      <div class="title-400-regular">Phone number</div>

                      <div
                        class="no-border text-center heading-400-bold text-black pt-5px pb-5px"
                      >
                        {{ contact?.phone }}
                      </div>
                    </div>
                    <div class="col-md-4 text-end p-5px">
                      <div class="title-400-regular">Email</div>
                      <div class="text-end">
                        <div
                          class="no-border text-right heading-400-bold text-black pt-5px pb-5px line-break-anywhere"
                        >
                          {{ contact?.email }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="myhr22 mb-5px"></div>
                  <div class="row">
                    <div class="col-md-6 p-5px">
                      <div class="title-400-regular">Role</div>

                      <div
                        class="no-border heading-400-bold text-black pt-5px pb-5px"
                      >
                        {{ contact?.role }}
                      </div>
                    </div>

                    <div class="col-md-6 text-end p-5px">
                      <div class="float-right">
                        <div class="d-flex">
                          <div class="title-400-regular text-dark">
                            Default approver
                          </div>
                          <input
                            type="checkbox"
                            class="custom-checkbox2 ml-3"
                            readonly
                            [checked]="
                              contact?.is_send_dispatch == 1 ||
                              contact?.is_send_dispatch == '1'
                            "
                          />
                        </div>

                        <div class="d-flex">
                          <div class="title-400-regular text-dark">
                            Send dispatch to
                          </div>
                          <input
                            type="checkbox"
                            class="custom-checkbox2 ml-3"
                            readonly
                            [checked]="
                              contact?.is_default == 1 ||
                              contact?.is_default == '1'
                            "
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>

            <div class="col-md-12 text-center">
              <input
                type="hidden"
                formControlName="cc_id"
                value="{{ this.edit_cc?.id }}"
              />
              <button
                class="mybtn2 bg-medium-blue cp-4 text-white"
                type="submit"
                *ngIf="is_loading_add == '' || is_loading_add != 'edit_cc'"
              >
                Update
              </button>
              <button
                class="mybtn2 bg-medium-blue cp-4 text-white"
                type="button"
                *ngIf="is_loading_add != '' && is_loading_add == 'edit_cc'"
                disabled
              >
                Processing...
              </button>
            </div>
          </form>

          <!-- <div class="div-1  mb-7" (click)="showEditCC()">
                        <div class="d-flex justify-content-between align-items-center cp-5">
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">Company name</div>
                                <div class="title-7 text-black">{{this.edit_cc?.company_name}}</div>
                            </div>
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6 text-right">Number of active projects</div>
                                <div class="title-7 text-black text-right">{{this.edit_cc?.projects?.length}}</div>
                            </div>
                        </div>
                        <div class="myhr"></div>
                        <div class="d-flex justify-content-between align-items-center cp-5">
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">Street</div>
                                <div class="title-7 text-black">{{this.edit_cc?.address? this.edit_cc?.address: this.edit_cc?.customer?.address}}</div>
                            </div>
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">City</div>
                                <div class="title-7 text-black">{{this.edit_cc?.city? this.edit_cc?.city: this.edit_cc?.customer?.city}}</div>
                            </div>
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6 text-right">Province/ State</div>
                                <div class="title-7 text-black text-right">{{this.edit_cc?.province? this.edit_cc?.province: this.edit_cc?.customer?.province}}</div>
                            </div>
                        </div>
                        <div class="myhr"></div>
                        <div class="d-flex justify-content-between align-items-center cp-5">
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">Work safety number</div>
                                <div class="title-7 text-black">{{this.edit_cc?.wsbc_no? this.edit_cc?.wsbc_no:this.edit_cc?.customer?.wsbc_no}}</div>
                            </div>

                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6 text-right">Business Number</div>
                                <div class="title-7 text-black text-right">{{this.edit_cc?.business_no? this.edit_cc?.business_no: this.edit_cc?.customer?.business_no}}</div>
                            </div>
                        </div>
                    </div>
                    <div class=" m-3 mt-5 edit_project" *ngIf="this.show_edit_cc">
                        <span (click)="hideEditCC()" class="float-right mr-1 mt-1" style="cursor:pointer;text-align:right;">
                            <img src="../assets/icons/cross-box.svg">
                        </span>
                        <form  [formGroup]="editCCForm" (ngSubmit)="onEditCC()">

                            <div class="div-1 proj-form mb-7">
                                <div class="d-flex justify-content-between align-items-center cp-5">
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6">Company name
                                            <span class="required_field_label ml-5px">*</span></div>
                                        <span *ngIf="editCCForm.get('company_name')?.invalid && (form_clicked)"
                                        class="text-danger">
                                            Company name is required.
                                        </span>

                                        <div class="position-relative">
                                            <div class="cc-title2">{{this.edit_cc?.company_name}}</div>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6 text-right">Number of active projects
                                        </div>

                                        <div class="position-relative text-right">
                                            {{this.edit_cc?.projects?.length}}
                                        </div>
                                    </div>
                                </div>
                                <div class="myhr"></div>
                                <div class="d-flex justify-content-between align-items-center cp-5">
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6">Street
                                            <span class="required_field_label ml-5px">*</span></div>
                                            <span *ngIf="editCCForm.get('street')?.invalid && (form_clicked)"
                                            class="text-danger">
                                            Street is required.
                                            </span>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" value="{{this.edit_cc?.address? this.edit_cc?.address:this.edit_cc?.customer?.address}}" formControlName="street" placeholder="Type here">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>

                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6 text-center">City
                                            <span class="required_field_label ml-5px">*</span>
                                        </div>
                                        <span *ngIf="editCCForm.get('city')?.invalid && (form_clicked)"
                                        class="text-danger">
                                           City is required.
                                        </span>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" value="{{this.edit_cc?.city? this.edit_cc?.city:this.edit_cc?.customer?.city}}" formControlName="city" placeholder="Type here">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6 text-right">Province/ State
                                            <span class="required_field_label ml-5px">*</span>
                                        </div>
                                        <span *ngIf="editCCForm.get('state')?.invalid && (form_clicked)"
                                        class="text-danger">
                                        Province/State is required.
                                        </span>
                                         <select formControlName="state" class=" myinput-new myinput3 icon-none"  [value]="this.edit_cc?.province? this.edit_cc?.province: this.edit_cc?.customer?.province" >
                                            <option value="Alberta">Alberta </option>
                                            <option value="British Columbia">British Columbia</option>
                                            <option value="Manitoba">Manitoba </option>
                                            <option value="New Brunswick">New Brunswick </option>
                                            <option value="NewFoundland and Labrador">NewFoundland and Labrador </option>
                                            <option value="Northwest Territories">Northwest Territories </option>
                                            <option value="Nova Scotia">Nova Scotia </option>
                                            <option value="Nunavut">Nunavut </option>
                                            <option value="Ontario">Ontario </option>
                                            <option value="Prince Edward Island">Prince Edward Island </option>
                                            <option value="Quebec">Quebec </option>
                                            <option value="Saskatchewan">Saskatchewan </option>
                                            <option value="Yukon">Yukon </option>
                                        </select>
                                    </div>

                                </div>
                                <div class="myhr"></div>
                                <div class="d-flex justify-content-between align-items-center cp-5">
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6">Work safety number
                                            </div>

                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" value="{{this.edit_cc?.wsbc_no? this.edit_cc?.wsbc_no: this.edit_cc?.customer?.wsbc_no}}" formControlName="wsbc_no" placeholder="Type here">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="desc-5 text-black-shade3 mb-6 text-right">Business Number
                                        </div>

                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" value="{{this.edit_cc?.business_no? this.edit_cc?.business_no:this.edit_cc?.customer?.business_no}}" formControlName="business_no" placeholder="Type here">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div align="center" class="mb-17">
                                <input type="hidden" formControlName="cc_id" value="{{this.edit_cc?.id}}">
                                <button class="mybtn2 bg-medium-blue cp-4 text-white" type="submit" *ngIf="is_loading_add =='' || is_loading_add !='edit_cc'">Update</button>
                                <button class="mybtn2 bg-medium-blue cp-4 text-white" type="button" *ngIf="is_loading_add !='' && is_loading_add =='edit_cc'" disabled>Processing...</button>

                            </div>
                        </form>
                    </div>
                    <br>
                    <div class="title-5-new text-black mb-7 ml-10">Contacts</div>


                    <div class="div-1  mb-7">
                        <div class="d-flex justify-content-between align-items-center cp-5">
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">Name</div>
                                <div class="title-7 text-black">{{this.edit_cc?.full_name}}</div>
                            </div>
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6 text-right">Phone number </div>
                                <div class="title-7 text-black text-right">{{this.edit_cc?.contact_number}}</div>
                            </div>
                        </div>
                        <div class="myhr"></div>
                        <div class="d-flex justify-content-between align-items-center cp-5">
                            <div class="">
                                <div class="desc-5 text-black-shade3 mb-6">Email</div>
                                <div class="title-7 text-black">{{this.edit_cc?.email}}</div>
                            </div>
                            <div class="">

                            </div>
                        </div>
                    </div> -->
        </div>

        <!-- Projects tab -->
        <div class="" *ngIf="active_cc == 'projects'">
          <div class="mb-20 mt-20">
            <div class="title-400-semibold text-left text-black">Projects</div>
          </div>
          <div class="table-projects">
            <div class="table-responsive overflow-x-auto">
              <table class="projects-list-table2">
                <thead class="pp-table">
                  <tr class="tab_head_2" style="background-color: #caeaff">
                    <th class="text-left">Name</th>
                    <th class="text-center">Job number</th>
                    <th class="text-right">City</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let proj of this.edit_cc?.projects">
                    <tr class="tab_row_2 getinputfield">
                      <td class="title-400-bold text-black text-left">
                        {{ proj?.project_name }}
                      </td>
                      <td class="title-400-bold text-black text-center">
                        {{ proj?.job_number }}
                        <div class="position-relative">
                          <div class="input-popup-div confirm confirm-project">
                            <div class="welcome-desc text-black mb-16">
                              Remove project
                            </div>
                            <div class="desc-2 text-color-grey mb-8">
                              Are sure to remove the
                              {{ proj?.project_name }} project?
                            </div>
                            <div
                              align="center"
                              class="d-flex justify-content-center"
                            >
                              <button
                                class="mybtn2 bg-medium-blue cp-4 text-white br-5"
                                (click)="handleDelete(proj)"
                              >
                                Yes
                              </button>
                              <button
                                class="mybtn-default ml-10 cancel-delete"
                                (click)="hidePopup('confirm-project')"
                              >
                                No
                              </button>
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="title-400-bold text-black text-right">
                        {{ proj?.project_location }}
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div
  class="modal fade come-from-modal right show"
  id="add_project"
  tabindex="-1 "
  role="dialog "
  aria-labelledby="myModalLabel "
>
  <div class="modal-dialog width_500" role="document ">
    <div class="modal-content borderr  modal-bg-white">
      <form [formGroup]="addProject">
        <div class="modal-body">
          <div class="title-17 mb_20">Add new project</div>
          <div class="d-flex justify-content-between align-items-center mb_20">
            <div>
              <img
                src="../../assets/icons/construction-icon.svg"
                alt=""
                width="45px"
              />
            </div>
            <div class="cons_col">
              <div class="position-relative getinputfield">
                <div class="title-18 text-black-shade2 mb-7">
                  Construction company
                </div>
                <span
                  *ngIf="
                    addProject.get('construction_company_id')?.invalid &&
                    form_clicked
                  "
                  class="text-danger"
                >
                  Construction Company is required.
                </span>
                <div class="position-relative input-div required_field2">
                  <div class="myinput-new1" *ngIf="!this.set_cc">Select</div>
                  <div class="myinput-new" *ngIf="this.set_cc">
                    {{ this.set_cc.company_name }}
                  </div>
                  <img
                    src="../../assets/images/dropdown.svg"
                    class="icon-center-right"
                  />
                </div>
                <div class="input-popup-div add-comp">
                  <div class="title-20 text-color-grey mb-1">
                    Construction company
                  </div>
                  <ng-container *ngFor="let cc of this.cc_lists">
                    <div class="title-5-new4" (click)="setCC(cc)">
                      {{ cc.company_name }}
                    </div>
                  </ng-container>
                  <input
                    type="hidden"
                    formControlName="construction_company_id"
                  />
                  <div class="position-relative getinputfield2 add_filed">
                    <div
                      class="myinput-new myinput3 text-color-black-shade8 myinput-new5"
                    >
                      Add
                    </div>
                    <img
                      src="../../assets/icons/edit.png"
                      class="icon-bottom-right2"
                    />
                  </div>
                  <form [formGroup]="addCompany">
                    <div class="input-popup-div2">
                      <div class="title-3 text-center mb-19">Add company</div>
                      <div class="position-relative mb-11">
                        <span
                          *ngIf="
                            addCompany.get('company_name')?.invalid &&
                            form_clicked
                          "
                          class="text-danger"
                        >
                          Name is required.
                        </span>
                        <input
                          type="text"
                          class="myinput-new myinput3"
                          placeholder="Add"
                          formControlName="company_name"
                        />
                        <img
                          src="../../assets/icons/edit.png"
                          class="icon-bottom-right2"
                        />
                      </div>
                      <div align="center" class="mb-17">
                        <button
                          class="mybtn2 bg-medium-blue cp-4 text-white"
                          (click)="handleAddCompany()"
                          *ngIf="
                            is_loading_add == '' ||
                            is_loading_add != 'add_company'
                          "
                        >
                          Add
                        </button>
                        <button
                          class="mybtn2 bg-medium-blue cp-4 text-white"
                          disabled
                          *ngIf="
                            is_loading_add != '' &&
                            is_loading_add == 'add_company'
                          "
                        >
                          Processing..
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div class="txt_col">
              The more accurate details you can provide, better tickets we can
              make.
            </div>
          </div>
          <div class="d-flex justify-content-between align-items-center mb_20">
            <div class="title-5-new text-black">Add Project</div>
            <div class="desc-1 text-black myinput-new6">
              You can always edit/update date later
            </div>
          </div>
          <div class="div-1 mb_20">
            <div class="cp-3">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <div class="d-flex align-items-center required_field3">
                      <div class="title_4">Project name</div>
                    </div>
                    <span
                      *ngIf="
                        addProject.get('project_name')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Project name is required.
                    </span>
                    <div class="position-relative borderr2">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        formControlName="project_name"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencil2_0.svg"
                        width="21px"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <div
                      class="d-flex align-items-center justify-content-end h_15"
                    >
                      <div class="title_4">Job number</div>
                      <div class="required_field_label ml-5px mr-2">*</div>
                    </div>
                    <span
                      *ngIf="
                        addProject.get('job_number')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Job number is required.
                    </span>
                    <div class="position-relative borderr2">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        formControlName="job_number"
                        placeholder="..."
                      />
                      <img
                        src="../../assets/icons/pencil2_0.svg"
                        width="21px"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="myhr2"></div>

            <div style="position: absolute; width: 100%">
              <div
                tabindex="-1"
                class="modal fade"
                style="position: relative !important"
                id="addNewAddress"
                aria-labelledby="addNewAddress"
                aria-modal="true"
                role="dialog"
              >
                <div
                  class="modal-dialog margin-auto d-flex justify-content-center"
                >
                  <div class="modal-content borderr2 w_h_modal">
                    <div class="modal-body address-modal main_div_address">
                      <div class="row w_428">
                        <div class="col-11 row ml-1 mb-2 px-0">
                          <div class="col-12 text-center">
                            <div class="heading_7 text-center">
                              Add/update address
                            </div>
                          </div>
                        </div>

                        <div class="col-1">
                          <button
                            type="button"
                            (click)="closeModal('addNewAddress')"
                            aria-label="Close"
                            class="my-modal-close border-0 bg-transparent shadow-none"
                          >
                            <img
                              src="./assets/images/cross_2.svg"
                              alt="Close"
                              style="
                                width: 14px;
                                height: 14px;
                                margin-top: -10px;
                                margin-right: -15px;
                              "
                            />
                          </button>
                        </div>
                      </div>
                      <div class="row mt-1 w_428">
                        <!-- <div  class="col-6">
                                                    <span *ngIf="addressError!= ''" class="text-danger">{{
                                                        addressError
                                                        }}</span>
                                                    <div  class="title-52 text-grey-shade2">Street</div>
                                                    <div  class="position-relative required_field11">
                                                        <img  src="../../assets/icons/pencile.svg"
                                                        alt="" width="17px" class="top-right-icon2">
                                                        <input  type="text" formControlName="address" class="field-input2 "

                                                         placeholder="Type here">
                                                    </div>
                                                </div> -->
                        <div class="col-md-6">
                          <div class="form-group">
                            <div
                              class="d-flex align-items-center required_field3"
                            >
                              <div class="title_4">Street</div>
                            </div>
                            <span *ngIf="addressError != ''" class="text-danger"
                              >{{ addressError }}
                            </span>
                            <div class="position-relative borderr2">
                              <input
                                type="text"
                                class="myinput-new myinput3 px-1"
                                id="project_street"
                                placeholder="Type here"
                              />
                              <img
                                src="../../assets/icons/pencil2_0.svg"
                                width="21px"
                                alt=""
                                class="edit-icon-top-right"
                              />
                            </div>
                          </div>
                        </div>

                        <!-- <div  class="col-6">
                                                    <span *ngIf="cityError!= ''" class="text-danger">{{
                                                        cityError
                                                        }}</span>
                                                    <div  class="title-52 text-grey-shade2 text-right">City/Town</div>
                                                    <div  class="position-relative required_field12">
                                                        <img  src="../../assets/icons/pencile.svg"
                                                        alt="" width="17px" class="top-left-icon2">
                                                        <input  type="text" formControlName="city" class="field-input2 text-right "

                                                        placeholder="Type here">
                                                    </div>
                                                </div> -->

                        <div class="col-md-6">
                          <div class="form-group">
                            <div
                              class="d-flex align-items-center justify-content-between h_15"
                            >
                              <div class="required_field_label ml-5px mr-2">
                                *
                              </div>
                              <div class="title_4">City/Town</div>
                            </div>
                            <span *ngIf="cityError != ''" class="text-danger"
                              >{{ cityError }}
                            </span>
                            <div class="position-relative borderr2">
                              <img
                                src="../../assets/icons/pencil2_0.svg"
                                width="21px"
                                alt=""
                                class="edit-icon-top-right edit-icon-top-right2"
                              />
                              <input
                                type="text"
                                class="myinput-new myinput3 text-right"
                                id="project_city"
                                placeholder="Type here"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mt-2 w_428">
                        <div class="col-4">
                          <span
                            *ngIf="countryError != ''"
                            class="text-danger"
                            >{{ countryError }}</span
                          >
                          <div class="title_4">Country</div>
                          <div class="position-relative required_field11">
                            <select
                              id="project_country"
                              (change)="setCountry($event)"
                              class="field-input2"
                            >
                              <option
                                value="Canada"
                                [selected]="this.country == 'Canada'"
                              >
                                Canada
                              </option>
                              <option
                                value="USA"
                                [selected]="this.country == 'USA'"
                              >
                                USA
                              </option>
                            </select>
                          </div>
                        </div>
                        <div class="col-4">
                          <span
                            *ngIf="provinceError != ''"
                            class="text-danger"
                            >{{ provinceError }}</span
                          >
                          <div class="title_4 text-center">Province/State</div>
                          <div class="position-relative required_field11">
                            <select
                              type="text"
                              class="field-input2"
                              id="project_province"
                            >
                              <ng-container *ngIf="this.country == 'Canada'">
                                <option value="" [selected]="!this.province">
                                  Select
                                </option>
                                <option
                                  *ngFor="let pro of this.canada_provinces"
                                  value="{{ pro }}"
                                  [selected]="pro == this.province"
                                >
                                  {{ pro }}
                                </option>
                              </ng-container>

                              <ng-container *ngIf="this.country == 'USA'">
                                <option value="" [selected]="!this.province">
                                  Select
                                </option>
                                <option
                                  *ngFor="let pro of this.usa_provinces"
                                  value="{{ pro }}"
                                  [selected]="pro == this.province"
                                >
                                  {{ pro }}
                                </option>
                              </ng-container>
                            </select>
                          </div>
                        </div>
                        <div class="col-4">
                          <div class="title_4 text-right">Postal Code</div>
                          <div class="position-relative">
                            <img
                              src="../../assets/icons/pencil2_0.svg"
                              alt=""
                              width="21px"
                              class="top-left-icon2 edit-icon-top-right2"
                            />
                            <input
                              type="text"
                              placeholder="Type here"
                              id="project_post_code"
                              class="field-input2 text-right"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="row w_428">
                        <div class="col-4"></div>
                        <div class="col-4 d-flex justify-content-center">
                          <button
                            *ngIf="!is_loading"
                            type="button"
                            (click)="setAddProjectAddress()"
                            class="mybtn mybtn-padding update_btn"
                          >
                            Update
                          </button>
                          <button
                            *ngIf="is_loading"
                            type="button"
                            disabled
                            class="mybtn mybtn-padding update_btn"
                          >
                            Updating...
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="cp-3">
              <input type="hidden" formControlName="city" />
              <input type="hidden" formControlName="street" />
              <input type="hidden" formControlName="state" />
              <div class="form-group">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="title_4">Address</div>
                  <div class="required_field_label ml-5px mr-2">*</div>
                </div>
                <span
                  *ngIf="
                    addProject.get('project_name')?.invalid && form_clicked
                  "
                  class="text-danger"
                >
                  Address is required.
                </span>
                <div
                  class="position-relative borderr2"
                  data-target="#addNewAddress"
                  data-toggle="modal"
                >
                  <input
                    type="text"
                    class="myinput-new myinput3 c_p"
                    id="complete_address_project"
                    placeholder="Type here"
                  />
                  <img
                    src="../../assets/icons/pencil2_0.svg"
                    width="21px"
                    alt=""
                    class="edit-icon-top-right"
                  />
                </div>
              </div>
              <!-- <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">Street</div>
                                            <div class="required_field_label ml-5px">*</div>
                                        </div>
                                        <span *ngIf="addProject.get('street')?.invalid && (form_clicked)"
                                        class="text-danger">
                                            Street is required.
                                        </span>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" formControlName="street" placeholder="...">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">City</div>
                                            <div class="required_field_label ml-5px">*</div>
                                        </div>
                                        <span *ngIf="addProject.get('city')?.invalid && (form_clicked)"
                                        class="text-danger">
                                            City is required.
                                        </span>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" formControlName="city" placeholder="...">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div>
                            </div> -->
            </div>
            <!-- <div class="myhr2"></div>
                        <div class="cp-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">Province/ State</div>
                                            <div class="required_field_label ml-5px">*</div>
                                        </div>
                                        <span *ngIf="addProject.get('state')?.invalid && (form_clicked)"
                                        class="text-danger">
                                            State is required.
                                        </span>
                                        <div class="position-relative">

                                            <select formControlName="state" class="select_state icon-none myinput-new myinput3"  >
                                                <option value=''>Select</option>
                                                <option value="Alberta">Alberta </option>
                                                <option value="British Columbia">British Columbia</option>
                                                <option value="Manitoba">Manitoba </option>
                                                <option value="New Brunswick">New Brunswick </option>
                                                <option value="NewFoundland and Labrador">NewFoundland and Labrador </option>
                                                <option value="Northwest Territories">Northwest Territories </option>
                                                <option value="Nova Scotia">Nova Scotia </option>
                                                <option value="Nunavut">Nunavut </option>
                                                <option value="Ontario">Ontario </option>
                                                <option value="Prince Edward Island">Prince Edward Island </option>
                                                <option value="Quebec">Quebec </option>
                                                <option value="Saskatchewan">Saskatchewan </option>
                                                <option value="Yukon">Yukon </option>
                                            </select>
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex justify-content-between align-items-center mb-14">
                                        <div>Default project</div>
                                        <div>
                                            <input type="checkbox" name="" id="" (change)="setDefaultAddProj($event)">

                                            <input type="hidden" formControlName="is_default">
                                        </div>
                                    </div>
                                    <div class="desc-1 text-black width-200px">Default project details are shown when you create a ticket. You can make always changes </div>
                                </div>
                            </div>
                        </div> -->
          </div>
          <div class="d-flex justify-content-between align-items-center mb_20">
            <div class="title-5-new text-black">Dump site</div>
          </div>
          <div class="div-1 mb-35">
            <div class="cp-3">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <div class="d-flex align-items-center required_field3">
                      <div class="title_4">Dump site name</div>
                    </div>
                    <span
                      *ngIf="
                        addProject.get('dumpsite_name')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Dump site name is required.
                    </span>
                    <div class="position-relative borderr2">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        formControlName="dumpsite_name"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencile-grey.png"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <div
                      class="d-flex align-items-center justify-content-between h_15"
                    >
                      <div class="required_field_label ml-5px mr-2">*</div>
                      <div class="title_4">Dump site address</div>
                    </div>
                    <span
                      *ngIf="
                        addProject.get('location')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Dump site address is required.
                    </span>
                    <div class="position-relative borderr2">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        formControlName="location"
                        placeholder="Enter"
                      />
                      <img
                        src="../../assets/icons/pencil2_0.svg"
                        width="21px"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>

                <!-- <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">Name</div>
                                        </div>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" placeholder="Type here" formControlName="dumpsite_name">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">Dump site address</div>
                                        </div>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" placeholder="..." formControlName="location">
                                            <img src="../../assets/icons/pencile-grey.png" alt="" class="edit-icon-top-right">
                                        </div>
                                    </div>
                                </div> -->
              </div>
            </div>
          </div>
          <!-- <div class="d-flex justify-content-between align-items-center mb-4px">
                        <div class="title-5-new text-black">Add job approver</div>
                    </div>
                    <div class="div-1 mb-35">
                        <div class="cp-3">
                            <div class="row">
                                <div class="col-md-6">


                                    <div class="position-relative  getinputfield">
                                        <div class="desc-1 text-black-shade3 mb-7">Name</div>
                                        <div class="position-relative input-div ">
                                            <div class="myinput-new" *ngIf="!set_appr">Select</div>
                                            <div class="myinput-new" *ngIf="set_appr">{{set_appr.full_name}}</div>
                                            <img src="../../assets/icons/arrow-down.png" class="icon-center-right">
                                        </div>
                                        <div class="input-popup-div job-appr">
                                            <div class="title-19 text-color-grey mb-17">Job approver</div>
                                            <ng-container *ngFor="let appr of appr_lists">
                                                <div class="title-5-new mb-11" (click)="setAppr(appr)">{{appr.full_name}}</div>
                                            </ng-container>

                                            <div class="position-relative getinputfield2">
                                                <div class="myinput-new myinput3 text-color-black-shade8">Add</div>
                                                <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                            </div>
                                            <div class="input-popup-div2">
                                                <div class="title-3 text-center mb-19">Add approver</div>
                                                <form  [formGroup]="addApprover" (ngSubmit)="onAddApprover()">
                                                    <div class="d-flex align-items-center">
                                                        <div class="desc-5 text-black-shade3 mb-7">Name</div>
                                                        <div class="required_field_label ml-5px">*</div>
                                                    </div>
                                                    <span *ngIf="addApprover.get('full_name')?.invalid && (form_clicked)"
                                                    class="text-danger">
                                                        Name is required.
                                                    </span>
                                                    <div class="position-relative mb-15">
                                                        <input type="text" formControlName="full_name" class="myinput-new myinput3" placeholder="Type here">
                                                        <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                    </div>

                                                    <div class="desc-5 text-black-shade3 mb-7">Contact number</div>
                                                    <div class="position-relative mb-15">
                                                        <input type="text" class="myinput-new myinput3" formControlName="contact_number" (input)="changeNumber3($event)" placeholder="(---) --- ----">
                                                        <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                    </div>

                                                    <div class="d-flex align-items-center">
                                                        <div class="desc-5 text-black-shade3 mb-7">Email address</div>
                                                        <div class="required_field_label ml-5px">*</div>
                                                    </div>
                                                    <span *ngIf="addApprover.get('email')?.invalid && (form_clicked)"
                                                    class="text-danger">
                                                        Email is required.
                                                    </span>
                                                    <div class="position-relative mb-15">
                                                        <input type="text" class="myinput-new myinput3" formControlName="email" placeholder="Type here">
                                                        <img src="../../assets/icons/edit.png" class="icon-bottom-right2">
                                                    </div>
                                                    <div align="center" class="mb-17">
                                                        <button class="mybtn2 bg-medium-blue cp-4 text-white" *ngIf="is_loading_add =='' || is_loading_add !='approver'">Add</button>
                                                        <button class="mybtn2 bg-medium-blue cp-4 text-white" *ngIf="is_loading_add !='' && is_loading_add =='approver'" disabled>Processing...</button>

                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="desc-1 text-black-shade3 mb-7 text-right">Phone number </div>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" placeholder="" formControlName="contact_number">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="myhr2"></div>
                        <div class="cp-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="d-flex align-items-center">
                                            <div class="desc-1 text-black-shade3 mb-7">Email </div>
                                        </div>
                                        <div class="position-relative">
                                            <input type="text" class="myinput-new myinput3" placeholder="" formControlName="email">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
          <div align="center" class="">
            <button
              class="mybtn2 bg-medium-blue cp-4 text-white br-5 mybtn5"
              (click)="handleAddProject()"
              *ngIf="is_loading_add == '' || is_loading_add != 'add_project'"
            >
              Add
            </button>
            <button
              class="mybtn2 bg-medium-blue cp-4 text-white br-5 mybtn5"
              *ngIf="is_loading_add != '' && is_loading_add == 'add_project'"
              disabled
            >
              Processing..
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<div
  class="modal fade come-from-modal right show"
  id="view_project"
  *ngIf="selected_cc"
  tabindex="-1 "
  role="dialog "
  aria-labelledby="myModalLabel "
>
  <div class="modal-dialog max-width-30" role="document ">
    <div class="modal-content border-30px custom-padding-4">
      <div class="modal-body">
        <form
          [formGroup]="updateProject"
          data-toggle="modal"
          data-target="#modalEditProject"
        >
          <div
            class="d-flex align-items-center justify-content-between mb-20 cursor-pointer"
          >
            <div class="d-flex align-items-center">
              <img src="../../assets/icons/construction-icon.svg" alt="" />
              <div class="title-18 text-black-shade2 ml-10">
                {{ selected_cc.company_name }}
              </div>
            </div>
            <div>
              <button
                class="mybtn2 bg-medium-blue cp-4 text-white br-5"
                (click)="createDispatch(this.selected_project)"
              >
                Create dispatch
              </button>
            </div>
          </div>
          <div (click)="toggleEditProject()" class="proj-div">
            <div class="proj-div-1">
              <div class="title-5-new text-black mb-9 ml-10">Project</div>
              <div class="div-1 mb-7">
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">
                      Project name
                    </div>
                    <div class="title-7 text-black">
                      {{ this.selected_project?.project_name }}
                    </div>
                  </div>
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6 text-right">
                      Job number
                    </div>
                    <div class="title-7 text-black text-right">
                      {{ this.selected_project?.job_number }}
                    </div>
                  </div>
                </div>
                <div class="myhr"></div>
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">Street</div>
                    <div class="title-7 text-black">
                      {{ this.selected_project?.project_location }}
                    </div>
                  </div>
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6 text-right">
                      City
                    </div>
                    <div class="title-7 text-black text-right">
                      {{ this.selected_project?.city }}
                    </div>
                  </div>
                </div>
                <div class="myhr"></div>
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">
                      Province/ State
                    </div>
                    <div class="title-7 text-black label_state">
                      {{ this.selected_project?.state }}
                    </div>
                    <select
                      formControlName="state"
                      class="select_state myinput-new myinput3 icon-none"
                      style="display: none"
                      [value]="this.selected_project?.state"
                      [(ngModel)]="this.selected_project.state"
                    >
                      <option value="Alberta">Alberta</option>
                      <option value="British Columbia">British Columbia</option>
                      <option value="Manitoba">Manitoba</option>
                      <option value="New Brunswick">New Brunswick</option>
                      <option value="NewFoundland and Labrador">
                        NewFoundland and Labrador
                      </option>
                      <option value="Northwest Territories">
                        Northwest Territories
                      </option>
                      <option value="Nova Scotia">Nova Scotia</option>
                      <option value="Nunavut">Nunavut</option>
                      <option value="Ontario">Ontario</option>
                      <option value="Prince Edward Island">
                        Prince Edward Island
                      </option>
                      <option value="Quebec">Quebec</option>
                      <option value="Saskatchewan">Saskatchewan</option>
                      <option value="Yukon">Yukon</option>
                    </select>
                  </div>
                  <div class="text-right">
                    <div class="desc-5 text-black-shade3 text-right"></div>
                    <img
                      src="../../assets/icons/pencile-grey.png"
                      alt=""
                      (click)="toggleState()"
                      *ngIf="this.selected_project.trucking_company_id"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="m-3 mt-5 edit_project" *ngIf="this.show_edit_project">
            <div class="title-5-new text-black mb-9 ml-10">Project</div>
            <form [formGroup]="editProject" (ngSubmit)="onEditProject()">
              <div class="div-1 proj-form mb-7">
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">
                      Project name
                      <span class="required_field_label ml-5px">*</span>
                    </div>
                    <span
                      *ngIf="
                        editProject.get('project_name')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Project name is required.
                    </span>

                    <div class="position-relative">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        value="{{ this.selected_project?.project_name }}"
                        formControlName="project_name"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencile-grey.png"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6 text-right">
                      Job number
                      <span class="required_field_label ml-5px">*</span>
                    </div>
                    <span
                      *ngIf="
                        editProject.get('job_number')?.invalid && form_clicked
                      "
                      class="text-danger"
                    >
                      Job number is required.
                    </span>
                    <div class="position-relative">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        value="{{ this.selected_project?.job_number }}"
                        formControlName="job_number"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencile-grey.png"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>
                <div class="myhr"></div>
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">
                      Street <span class="required_field_label ml-5px">*</span>
                    </div>
                    <span
                      *ngIf="editProject.get('street')?.invalid && form_clicked"
                      class="text-danger"
                    >
                      Street is required.
                    </span>
                    <div class="position-relative">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        value="{{ this.selected_project?.project_location }}"
                        formControlName="street"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencile-grey.png"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6 text-right">
                      City
                      <span class="required_field_label ml-5px">*</span>
                    </div>
                    <span
                      *ngIf="editProject.get('city')?.invalid && form_clicked"
                      class="text-danger"
                    >
                      City is required.
                    </span>
                    <div class="position-relative">
                      <input
                        type="text"
                        class="myinput-new myinput3"
                        value="{{ this.selected_project?.city }}"
                        formControlName="city"
                        placeholder="Type here"
                      />
                      <img
                        src="../../assets/icons/pencile-grey.png"
                        alt=""
                        class="edit-icon-top-right"
                      />
                    </div>
                  </div>
                </div>
                <div class="myhr"></div>
                <div
                  class="d-flex justify-content-between align-items-center cp-5"
                >
                  <div class="">
                    <div class="desc-5 text-black-shade3 mb-6">
                      Province/ State
                    </div>
                    <div class="title-7 text-black label_state">
                      {{ this.selected_project?.state }}
                    </div>
                    <select
                      formControlName="state"
                      class="myinput-new myinput3 icon-none"
                      [value]="this.selected_project?.state"
                    >
                      <option value="Alberta">Alberta</option>
                      <option value="British Columbia">British Columbia</option>
                      <option value="Manitoba">Manitoba</option>
                      <option value="New Brunswick">New Brunswick</option>
                      <option value="NewFoundland and Labrador">
                        NewFoundland and Labrador
                      </option>
                      <option value="Northwest Territories">
                        Northwest Territories
                      </option>
                      <option value="Nova Scotia">Nova Scotia</option>
                      <option value="Nunavut">Nunavut</option>
                      <option value="Ontario">Ontario</option>
                      <option value="Prince Edward Island">
                        Prince Edward Island
                      </option>
                      <option value="Quebec">Quebec</option>
                      <option value="Saskatchewan">Saskatchewan</option>
                      <option value="Yukon">Yukon</option>
                    </select>
                  </div>
                  <div class="text-right">
                    <div class="desc-5 text-black-shade3 text-right"></div>
                    <img
                      src="../../assets/icons/pencile-grey.png"
                      alt=""
                      *ngIf="this.selected_project.trucking_company_id"
                    />
                  </div>
                </div>
              </div>
              <div align="center" class="mb-17">
                <input
                  type="hidden"
                  formControlName="project_id"
                  value="{{ this.selected_project.id }}"
                />
                <button
                  class="mybtn2 bg-medium-blue cp-4 text-white"
                  type="submit"
                  *ngIf="
                    is_loading_add == '' || is_loading_add != 'edit_project'
                  "
                >
                  Update
                </button>
                <button
                  class="mybtn2 bg-medium-blue cp-4 text-white"
                  type="button"
                  *ngIf="
                    is_loading_add != '' && is_loading_add == 'edit_project'
                  "
                  disabled
                >
                  Processing...
                </button>
              </div>
            </form>
          </div>

          <div class="title-5-new text-black mb-9 ml-10">Dump site</div>
          <div
            class="div-1 mb-7"
            *ngFor="let site of selected_project.dump_sites"
          >
            <div
              class="d-flex justify-content-between align-items-center cp-5"
              (click)="toggleEditDS(site.id + (site.dumpsite ? 'YES' : 'NO'))"
            >
              <div class="">
                <div class="desc-5 text-black-shade3 mb-6">Name</div>
                <div class="title-7 text-black">
                  {{ site.dumpsite ? site.dumpsite : site.dump_site }}
                </div>
              </div>
              <div class="">
                <div class="desc-5 text-black-shade3 mb-6 text-right">
                  Dump site address
                </div>
                <div class="title-7 text-black text-right">
                  {{ site.location }}
                </div>
              </div>
            </div>

            <div
              class="edit_dumpsite"
              *ngIf="
                site.id + (site.tc_project_id ? 'YES' : 'NO') ==
                this.show_edit_dump
              "
            >
              <div class="row">
                <div class="col-md-6">
                  <div class="desc-5 text-black-shade3 mb-6">
                    Name <span class="text-danger required_field_label">*</span>
                  </div>
                  <div class="position-relative">
                    <input
                      type="text"
                      class="myinput-new myinput3"
                      id="ds_name{{
                        site.id + (site.tc_project_id ? 'YES' : 'NO')
                      }}"
                      placeholder="Type here"
                      value="{{
                        site.dumpsite ? site.dumpsite : site.dump_site
                      }}"
                    />
                    <img
                      src="../../assets/icons/pencile-grey.png"
                      alt=""
                      class="edit-icon-top-right"
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="desc-5 text-black-shade3 mb-6 text-right">
                    Dump site address
                  </div>
                  <div class="position-relative">
                    <input
                      type="text"
                      class="myinput-new myinput3"
                      id="ds_address{{
                        site.id + (site.tc_project_id ? 'YES' : 'NO')
                      }}"
                      placeholder="Type here"
                      value="{{ site.location }}"
                    />
                    <img
                      src="../../assets/icons/pencile-grey.png"
                      alt=""
                      class="edit-icon-top-right"
                    />
                  </div>
                </div>
              </div>

              <div align="center" class="d-flex justify-content-center">
                <button
                  class="mybtn2 bg-medium-blue cp-4 text-white"
                  type="button"
                  (click)="
                    handleEditDS(site.id, site.tc_project_id ? 'YES' : 'NO')
                  "
                  *ngIf="
                    is_loading_add == '' ||
                      is_loading_add !=
                        'edit_ds_{{site.id+(site.tc_project_id ? ';
                    yES: ':';
                    nO: ')}}'
                  "
                >
                  Update
                </button>
                <button
                  class="mybtn2 bg-medium-blue cp-4 text-white"
                  type="button"
                  *ngIf="
                    is_loading_add != '' &&
                      is_loading_add == 'edit_ds_{{site.id+(site.dumpsite ? ';
                    yES: ':';
                    nO: ')}}'
                  "
                  disabled
                >
                  Processing...
                </button>

                <div class="ml-54">
                  <div class="position-relative getinputfield">
                    <button
                      class="mybtn-default"
                      *ngIf="
                        is_loading_add == '' ||
                          is_loading_add !=
                            'delete_ds_{{site.id+(site.dumpsite ? ';
                        yES: ':';
                        nO: ')}}'
                      "
                    >
                      Remove
                    </button>
                    <button
                      class="mybtn-default"
                      *ngIf="
                        is_loading_add != '' &&
                          is_loading_add ==
                            'delete_ds_{{site.id+(site.dumpsite ? ';
                        yES: ':';
                        nO: ')}}'
                      "
                    >
                      Processing..
                    </button>
                    <div class="input-popup-div confirm">
                      <div class="welcome-desc text-black mb-16">
                        Confirmation
                      </div>
                      <div class="desc-2 text-color-grey mb-8">
                        Remove {{ site.dumpsite }} from the list?
                      </div>
                      <div align="center" class="d-flex justify-content-center">
                        <button
                          class="mybtn2 bg-medium-blue cp-4 text-white br-5"
                          (click)="
                            handleDeleteDS(
                              site.id,
                              site.tc_project_id ? 'YES' : 'NO',
                              site
                            )
                          "
                        >
                          Yes
                        </button>

                        <button
                          class="mybtn-default ml-10 cancel-delete"
                          (click)="hideDSButton()"
                        >
                          No
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right show-edit-dumpsite">
            <img
              src="../../assets/icons/pluse-blue.png"
              (click)="showEditAddDump()"
            />
          </div>
          <div class="position-relative">
            <form [formGroup]="addDumpSite" (ngSubmit)="onAddDumpsite()">
              <div class="input-popup-div3" *ngIf="edit_add_dumpsite">
                <div class="title-3 text-center mb-19">Add dumpsite</div>

                <div class="d-flex align-items-center">
                  <div class="desc-5 text-black-shade3 mb-7">Name</div>
                  <div class="required_field_label ml-5px">*</div>
                </div>
                <span
                  *ngIf="addDumpSite.get('name')?.invalid && form_clicked"
                  class="text-danger"
                >
                  Name is required.
                </span>
                <div class="position-relative mb-15">
                  <input
                    type="text"
                    formControlName="name"
                    class="myinput-new myinput3"
                    placeholder="Type here"
                  />
                  <img
                    src="../../assets/icons/edit.png"
                    class="icon-bottom-right2"
                  />
                </div>
                <div class="d-flex align-items-center">
                  <div class="desc-5 text-black-shade3 mb-7">Location</div>
                </div>
                <span
                  *ngIf="addDumpSite.get('address')?.invalid && form_clicked"
                  class="text-danger"
                >
                  Address is required.
                </span>
                <div class="position-relative mb-15">
                  <input
                    type="text"
                    formControlName="address"
                    class="myinput-new myinput3"
                    placeholder="Type here"
                  />
                  <img
                    src="../../assets/icons/edit.png"
                    class="icon-bottom-right2"
                  />
                </div>
                <div align="center" class="mb-17">
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    *ngIf="is_loading_add == '' || is_loading_add != 'dumpsite'"
                  >
                    Add
                  </button>
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    *ngIf="is_loading_add != '' && is_loading_add == 'dumpsite'"
                    disabled
                  >
                    Processing...
                  </button>
                </div>
              </div>
            </form>
          </div>
          <div class="title-5-new text-black mb-9 ml-10">Job approver(s)</div>

          <ng-container formArrayName="approvers">
            <ng-container
              *ngFor="let formItem of approvers.controls; let idx = index"
            >
              <div
                class="edit_approver"
                *ngIf="
                  this.selected_project?.approvers[idx]?.id +
                    (this.selected_project?.approvers[idx]?.tc_project_id
                      ? 'YES'
                      : 'NO') ==
                    this.show_edit_approver &&
                  this.selected_project?.approvers[idx]?.user?.account_type !=
                    'Customer'
                "
              >
                <div class="title-5-new text-black ml-2 m-1">Job Approver</div>
                <div class="div-1 mb-15">
                  <div
                    class="d-flex justify-content-between align-items-center p-2"
                  >
                    <div class="">
                      <div class="desc-5 text-black-shade3">
                        Name
                        <span class="text-danger required_field_label">*</span>
                      </div>
                      <input
                        type="text"
                        id="approver_name{{
                          this.selected_project?.approvers[idx]?.id +
                            (this.selected_project?.approvers[idx]
                              ?.tc_project_id
                              ? 'YES'
                              : 'NO')
                        }}"
                        value="{{
                          this.selected_project?.approvers[idx]?.full_name
                            ? this.selected_project?.approvers[idx]?.full_name
                            : this.selected_project?.approvers[idx]?.user
                            ? this.selected_project?.approvers[idx]?.user
                                ?.full_name
                            : ''
                        }}"
                        class="myinput-new myinput3"
                        placeholder="Type here"
                      />
                    </div>
                    <div class="">
                      <div class="desc-5 text-black-shade3 text-right">
                        Phone number
                      </div>

                      <input
                        type="text"
                        id="contact_number{{
                          this.selected_project?.approvers[idx]?.id +
                            (this.selected_project?.approvers[idx]
                              ?.tc_project_id
                              ? 'YES'
                              : 'NO')
                        }}"
                        value="{{
                          this.selected_project?.approvers[idx]?.contact_number
                            ? this.selected_project?.approvers[idx]
                                ?.contact_number
                            : this.selected_project?.approvers[idx]?.user
                            ? this.selected_project?.approvers[idx]?.user
                                ?.contact_number
                            : ''
                        }}"
                        class="myinput-new myinput3"
                        placeholder="Type here"
                      />
                    </div>
                  </div>
                  <div class="myhr"></div>
                  <div
                    class="d-flex justify-content-between align-items-center p-2"
                  >
                    <div class="">
                      <div class="desc-5 text-black-shade3">
                        Email
                        <span class="text-danger required_field_label">*</span>
                      </div>
                      <input
                        type="text"
                        id="approver_email{{
                          this.selected_project?.approvers[idx]?.id +
                            (this.selected_project?.approvers[idx]
                              ?.tc_project_id
                              ? 'YES'
                              : 'NO')
                        }}"
                        value="{{
                          this.selected_project?.approvers[idx]?.email
                        }}"
                        class="myinput-new myinput3"
                        placeholder="Type here"
                      />
                    </div>
                    <div class="text-right d-flex align-items-center">
                      <div class="desc-5 text-black-shade3">
                        Default<br />approver
                      </div>
                      <input
                        type="checkbox"
                        class="ml-10 checkbox-input"
                        [checked]="
                          this.selected_project?.approvers[idx]?.is_default ===
                          'YES'
                        "
                        (change)="
                          setDefaultAppr(
                            $event,
                            this.selected_project?.approvers[idx]?.id +
                              (this.selected_project?.approvers[idx]
                                ?.tc_project_id
                                ? 'YES'
                                : 'NO')
                          )
                        "
                      />
                      <input
                        type="hidden"
                        id="approver_is_default{{
                          this.selected_project?.approvers[idx]?.id +
                            (this.selected_project?.approvers[idx]
                              ?.tc_project_id
                              ? 'YES'
                              : 'NO')
                        }}"
                        value="{{
                          this.selected_project?.approvers[idx]?.is_default
                        }}"
                      />
                    </div>
                  </div>
                </div>
                <div align="center" class="d-flex justify-content-center">
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    type="button"
                    (click)="
                      handleEditApprover(
                        this.selected_project?.approvers[idx]?.tc_project_id
                          ? 'YES'
                          : 'NO',
                        this.selected_project?.approvers[idx]
                      )
                    "
                    *ngIf="
                      is_loading_add == '' ||
                        is_loading_add !=
                          'edit_appr_{{this.selected_project?.approvers[idx]?.id+(this.selected_project?.approvers[idx]?.tc_project_id ? ';
                      yES: ':';
                      nO: ')}}'
                    "
                  >
                    Update
                  </button>
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    type="button"
                    *ngIf="
                      is_loading_add != '' &&
                        is_loading_add ==
                          'edit_appr_{{this.selected_project?.approvers[idx]?.id+(this.selected_project?.approvers[idx]?.tc_project_id ? ';
                      yES: ':';
                      nO: ')}}'
                    "
                    disabled
                  >
                    Processing...
                  </button>

                  <div class="ml-54">
                    <div class="position-relative getinputfield">
                      <button
                        class="mybtn-default"
                        *ngIf="
                          is_loading_add == '' ||
                            is_loading_add !=
                              'delete_appr_{{this.selected_project?.approvers[idx]?.id+(this.selected_project?.approvers[idx]?.tc_project_id ? ';
                          yES: ':';
                          nO: ')}}'
                        "
                      >
                        Remove
                      </button>
                      <button
                        class="mybtn-default"
                        *ngIf="
                          is_loading_add != '' &&
                            is_loading_add ==
                              'delete_appr_{{this.selected_project?.approvers[idx]?.id+(this.selected_project?.approvers[idx]?.tc_project_id ? ';
                          yES: ':';
                          nO: ')}}'
                        "
                      >
                        Processing..
                      </button>
                      <div class="input-popup-div confirm">
                        <div class="welcome-desc text-black mb-16">
                          Confirmation
                        </div>
                        <div class="desc-2 text-color-grey mb-8">
                          Remove
                          {{ this.selected_project?.approvers[idx]?.name }} from
                          the list?
                        </div>
                        <div
                          align="center"
                          class="d-flex justify-content-center"
                        >
                          <button
                            class="mybtn2 bg-medium-blue cp-4 text-white br-5"
                            (click)="
                              handleDeleteApprover(
                                this.selected_project?.approvers[idx]
                                  ?.tc_project_id
                                  ? 'YES'
                                  : 'NO',
                                this.selected_project?.approvers[idx]
                              )
                            "
                          >
                            Yes
                          </button>

                          <button
                            class="mybtn-default ml-10 cancel-delete"
                            (click)="hideDSButton()"
                          >
                            No
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <ng-container [formGroupName]="idx">
                <div
                  class="div-1 mb-15"
                  (click)="
                    toggleApprover(
                      this.selected_project?.approvers[idx]?.id +
                        (this.selected_project?.approvers[idx]?.tc_project_id
                          ? 'YES'
                          : 'NO')
                    )
                  "
                >
                  <div
                    class="d-flex justify-content-between align-items-center cp-5"
                  >
                    <div class="">
                      <div class="desc-5 text-black-shade3 mb-6">Name</div>
                      <div class="title-7 text-black">
                        {{
                          this.selected_project?.approvers[idx]?.full_name
                            ? this.selected_project?.approvers[idx]?.full_name
                            : this.selected_project?.approvers[idx]?.user
                            ? this.selected_project?.approvers[idx]?.user
                                ?.full_name
                            : ""
                        }}
                      </div>
                    </div>
                    <div class="">
                      <div class="desc-5 text-black-shade3 mb-6 text-right">
                        Phone number
                      </div>
                      <div class="title-7 text-black text-right">
                        {{
                          this.selected_project?.approvers[idx]?.contact_number
                            ? this.selected_project?.approvers[idx]
                                ?.contact_number
                            : this.selected_project?.approvers[idx]?.user
                            ? this.selected_project?.approvers[idx]?.user
                                ?.contact_number
                            : ""
                        }}
                      </div>
                    </div>
                  </div>
                  <div class="myhr"></div>
                  <div
                    class="d-flex justify-content-between align-items-center cp-5"
                  >
                    <div class="">
                      <div class="desc-5 text-black-shade3 mb-6">Email</div>
                      <div class="title-7 text-black label_email_{{ idx }}">
                        {{ this.selected_project?.approvers[idx]?.email }}
                      </div>
                      <input
                        type="hidden"
                        formControlName="approver_email"
                        id="approver_email_{{ idx }}"
                        class="myinput-new myinput3"
                        placeholder="Type here"
                      />
                    </div>
                    <div class="text-right d-flex align-items-center">
                      <div class="desc-5 text-black-shade3">
                        Default<br />approver
                      </div>
                      <input
                        type="checkbox"
                        id="approver_is_default_{{ idx }}"
                        class="ml-10 checkbox-input"
                        [disabled]="true"
                        [checked]="
                          this.selected_project?.approvers[idx]?.is_default ===
                          'YES'
                        "
                        (change)="setDefault($event, idx)"
                      />
                      <input
                        type="hidden"
                        formControlName="approver_is_default"
                      />
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-container>

            <ng-container *ngFor="let appr of this.selected_project?.approvers">
            </ng-container>

            <div class="text-right show-edit-approver">
              <img
                src="../../assets/icons/pluse-blue.png"
                (click)="showEditAddAppr()"
              />
            </div>
          </ng-container>

          <div class="position-relative">
            <form [formGroup]="addApprover" (ngSubmit)="onAddApprover()">
              <div class="input-popup-div3" *ngIf="edit_add_approver">
                <div class="title-3 text-center mb-19">Add approver</div>

                <div class="d-flex align-items-center">
                  <div class="desc-5 text-black-shade3 mb-7">Name</div>
                  <div class="required_field_label ml-5px">*</div>
                </div>
                <span
                  *ngIf="addApprover.get('full_name')?.invalid && form_clicked"
                  class="text-danger"
                >
                  Name is required.
                </span>
                <div class="position-relative mb-15">
                  <input
                    type="text"
                    formControlName="full_name"
                    class="myinput-new myinput3"
                    placeholder="Type here"
                  />
                  <img
                    src="../../assets/icons/edit.png"
                    class="icon-bottom-right2"
                  />
                </div>

                <div class="desc-5 text-black-shade3 mb-7">Contact number</div>
                <div class="position-relative mb-15">
                  <input
                    type="text"
                    class="myinput-new myinput3"
                    formControlName="contact_number"
                    (input)="changeNumber3($event)"
                    placeholder="(---) --- ----"
                  />
                  <img
                    src="../../assets/icons/edit.png"
                    class="icon-bottom-right2"
                  />
                </div>

                <div class="d-flex align-items-center">
                  <div class="desc-5 text-black-shade3 mb-7">Email address</div>
                  <div class="required_field_label ml-5px">*</div>
                </div>
                <span
                  *ngIf="addApprover.get('email')?.invalid && form_clicked"
                  class="text-danger"
                >
                  Email is required.
                </span>
                <div class="position-relative mb-15">
                  <input
                    type="text"
                    class="myinput-new myinput3"
                    formControlName="email"
                    placeholder="Type here"
                  />
                  <img
                    src="../../assets/icons/edit.png"
                    class="icon-bottom-right2"
                  />
                </div>
                <div align="center" class="mb-17">
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    *ngIf="is_loading_add == '' || is_loading_add != 'approver'"
                  >
                    Add
                  </button>
                  <button
                    class="mybtn2 bg-medium-blue cp-4 text-white"
                    *ngIf="is_loading_add != '' && is_loading_add == 'approver'"
                    disabled
                  >
                    Processing...
                  </button>
                </div>
              </div>
            </form>
          </div>
          <div align="center" class="d-flex justify-content-center">
            <button
              class="mybtn2 bg-medium-blue cp-4 text-white br-5"
              (click)="handleUpdateProject()"
              *ngIf="is_loading_add == '' || is_loading_add != 'update_project'"
            >
              Update
            </button>
            <button
              class="mybtn2 bg-medium-blue cp-4 text-white br-5"
              disabled
              *ngIf="is_loading_add != '' && is_loading_add == 'update_project'"
            >
              Processing..
            </button>
            <div class="ml-54">
              <div class="position-relative getinputfield">
                <button
                  class="mybtn-default"
                  *ngIf="
                    is_loading_add == '' || is_loading_add != 'delete_project'
                  "
                >
                  Remove
                </button>
                <button
                  class="mybtn-default"
                  *ngIf="
                    is_loading_add != '' && is_loading_add == 'delete_project'
                  "
                >
                  Processing..
                </button>
                <div class="input-popup-div confirm">
                  <div class="welcome-desc text-black mb-16">Confirmation</div>
                  <div class="desc-2 text-color-grey mb-8">
                    Remove {{ this.selected_project.project_name }} from the
                    list?
                  </div>
                  <div align="center" class="d-flex justify-content-center">
                    <button
                      class="mybtn2 bg-medium-blue cp-4 text-white br-5"
                      (click)="handleDelete(this.selected_project)"
                    >
                      Yes
                    </button>

                    <button
                      class="mybtn-default ml-10 cancel-delete"
                      (click)="hideButton()"
                    >
                      No
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
