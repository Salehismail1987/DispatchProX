<div class="wrapper">
  <app-dashboard-header></app-dashboard-header>
  <div id="content">
      <app-dashboard-top-header></app-dashboard-top-header>
      <!-- <div class="body-content">
          <div class="title-12 text-color-black-shade mb-10">{{current_nav=='profile'? 'Profile Settings':' Change Password'}}</div>
          <div class="row">
              <div class="col-md-5 col-lg-4">
                  <div class="sub-menu border-div">
                      <ul class="sub-menu-ul">
                          <li >
                              <a (click)="setNav('profile')" class="cursor-pointer">
                                  <div class="sub-menu-link {{this.current_nav=='profile'? 'active':''}}">
                                      <div class="icon-div icon-user"></div>
                                      <span>Profile settings</span>
                                  </div>
                              </a>
                          </li>
                          <li >
                            <li >
                                <a (click)="setNav('help-tab')" class="cursor-pointer">
                                    <div class="sub-menu-link {{this.current_nav=='help-tab'? 'active':''}}">
                                        <div class="icon-div icon-help"></div>
                                        <span>Help - responses</span>
                                    </div>
                                </a>
                            </li>
                            <li >
                              <a (click)="setNav('password')" class="cursor-pointer">
                                  <div class="sub-menu-link {{this.current_nav=='password'? 'active':''}}">
                                      <div class="icon-div change-password"></div>
                                      <span>Change password</span>
                                  </div>
                              </a>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="col-md-7 col-lg-8">
                  <div class="setting-content-page border-div" *ngIf="current_nav=='profile'">

                      <div class="row">
                          <div class="col-md-7">

                              <div class="title-12 text-color-black-shade7 mb-27">Driver profile</div>
                          </div>
                          <div class="col-md-5 " *ngIf="this.loggedinUser.role_id == 6">
                            <app-account-switcher></app-account-switcher>
                        </div>
                      </div>
                      <div class="border-div2 mt-3  mb-6">
                          <div class="d-flex justify-content-between align-items-center mb-6">
                              <form [formGroup]="updateProfileImage" (ngSubmit)="onSaveUser()">
                                  <div class="d-flex align-items-center" style="    border: 1px solid #E1E1E1;
                                  border-radius: 5px;
                                  padding: 10px;
                                  box-shadow: 0px 4px 4px 0px #00000040;">
                                      <div class="profile-img-div">
                                          <img src="../../assets/icons/user-profile.png" alt="" class="" *ngIf="!this.loggedinUser?.profile_image || this.loggedinUser?.profile_image  == ''">
                                          <img  class="user-profile-pic " [src]="backendAPIURL+this.loggedinUser?.profile_image" *ngIf="this.loggedinUser?.profile_image !='' && this.loggedinUser?.profile_image !==undefined && this.loggedinUser?.profile_image !==null ">
                                      </div>
                                      <div class="text-color-black-shade2 ml-3 text-center" style="padding: 15px !important;" (click)="logoFileInput.click()">
                                          <div><u>Change Profile<br>Picture</u></div>
                                          <input id="logo-file-input" hidden type="file" [multiple]="false" [accept]="'image/jpeg, image/png'" (change)="uploadimage($event)" #logoFileInput formControlName="profile_image">

                                      </div>

                                  </div>
                              </form>

                              <div class=" text-right">
                                  <div class="title-2 text-color-black-shade mb-9">
                                      {{this.loggedinUser?.full_name}}
                                  </div>
                                  <div class="title-5-new2 text-color-black-shade2 mb-3px">
                                      Update
                                  </div>
                                  <img src="../../assets/icons/pencile.svg" alt="" data-toggle="modal" data-target="#myModalEditProfile">
                              </div>
                          </div>
                          <div class="title-6-new mb-2px ml-3">Contact info</div>
                          <div class="border-div3 mb-8">
                              <div class="d-flex justify-content-between align-items-center mb-6">
                                  <div class="">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">Phone number</div>
                                      <div class="title-7">{{this.loggedinUser?.contact_number}}</div>
                                  </div>
                                  <div class=" text-right">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">Email address</div>
                                      <div class="title-7">{{this.loggedinUser?.email}}</div>
                                  </div>
                              </div>
                              <div class="myhr3 mb-9"></div>
                              <div class="d-flex justify-content-between align-items-center mb-6">
                                  <div class="">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">Street</div>
                                      <div class="title-7">{{this.loggedinUser?.address}}</div>
                                  </div>
                                  <div class=" text-right">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">City</div>
                                      <div class="title-7">{{this.loggedinUser?.city}}</div>
                                  </div>
                              </div>
                              <div class="myhr3 mb-9"></div>
                              <div class="d-flex justify-content-between align-items-center mb-6">
                                  <div class="">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">Province/ State</div>
                                      <div class="title-7">{{this.loggedinUser?.province}}</div>
                                  </div>
                                  <div class=" text-right">
                                      <div class="title-5-new2 text-color-black-shade2 mb-6">Postal code</div>
                                      <div class="title-7">{{this.loggedinUser?.post_code}}</div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="border-div2">
                          <div class="title-6-new mb-2px ml-3">Business info</div>
                          <div class="row">
                              <div class="col-md-6">
                                  <div class="border-div3 mb-8">
                                      <div class="mb-6">
                                          <div class="title-5-new2 text-color-black-shade2 mb-6">Business name</div>
                                          <div class="title-7">{{this.loggedinUser?.company_name ? this.loggedinUser?.company_name : (
                                              this.loggedinUser?.full_name)}}</div>
                                      </div>
                                      <div class="myhr3 mb-9"></div>
                                      <div class="row p-0">
                                          <div class="col-6 mb-6">
                                              <div class="title-5-new2 text-color-black-shade2 mb-6">Business number</div>
                                              <div class="title-7">{{this.loggedinUser?.business_number}}</div>
                                          </div>

                                          <div class="col-6  mb-6" align="right">
                                              <div class="title-5-new2 text-color-black-shade2 mb-6">Work safety number</div>
                                              <div class="title-7">{{this.loggedinUser?.work_safety_number}}</div>
                                          </div>
                                      </div>

                                  </div>
                              </div>
                              <div class="col-md-2">
                              </div>
                              <div class="col-md-4">
                                  <div>DispatchProX to generate your invoices ready, some details needed here.</div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="setting-content-page border-div" *ngIf="current_nav=='help-tab'">

                    <div class="row">
                        <div class="col-md-7">
                          <div class="title-12 text-color-black-shade7 mb-27">Help - responses</div>
                        </div>
                    </div>
                    <div class="border-div2 mt-3  mb-6">
                        <div class="d-flex justify-content-center align-items-center mb-6 position-relative">
                                <div class="d-flex align-items-center">
                                    <button class="mybtn3 mybtn-back-pink title-17 w-auto" (click)="showModal('helptopic')"> Help / question </button>
                                </div>

                                <div *ngIf="this.current_modal && this.current_modal === 'helptopic'"
                                class="modal fade show show2 d-flex align-items-center" id="invitePeople3"
                                style="display: block; padding-right: 17px;" tabindex="-1" role="dialog"
                                aria-labelledby="myModalLabel">
                                  <div class="modal-dialog modal-dialog-right" role="document">
                                      <div class="modal-content modal-bg-white">
                                          <div class="modal-body p-10px " >
                                            <div class="d-flex align-items-center justify-content-between mt-15px mb-15px">
                                                <img src="./assets/images/cross_2.svg" class="float-right top-right-icon2 cursor-pointer" (click)="this.hideModal()">
                                              <div class="">
                                                <div class="modal-start-text">
                                                  Type your question below
                                                </div>
                                                <div class="modal-main-heading mt-1">
                                                  Ask from DispatchProX
                                                </div>
                                              </div>
                                              <div class="">
                                                <div class="modal-heading-badge">
                                                  Help / question
                                                </div>
                                              </div>
                                            </div>
                                            <div class="topic-form-container mt-18">
                                              <form [formGroup]="helpTopicForm" (ngSubmit)="onSaveTopic()" enctype="multipart/form-data" class="mt-15px">
                                              
                                                <div class="field-container d-flex justify-content-start align-items-center">
                                                  <div class="d-flex align-items-center justify-content-center heading-form">
                                                    Topic :
                                                  </div>
                                                  <div class="ml-3 d-flex align-items-center justify-content-center w-full">
                                                    <span *ngIf="topicError != ''" class="text-danger">{{ topicError }}</span>
                                                    <label class="field text-field required_field w-full mb-0">
                                                      <textarea
                                                        class="field__input"
                                                        placeholder="Enter"
                                                        formControlName="topic_title"
                                                      ></textarea>
                                                      <span class="field__label-wrap">
                                                        <span class="field__label">Topic title</span>
                                                        
                                                      </span>
                                                    </label>
                                                  </div>
                                                </div>
              
                                                <br />
                                                <div class="label_text">
                                                  Note: DispatchProX cannot help with questions about the projects, jobs, vendors, or customers. Instead, we can
                                                  help/answer how you can use tragget.com and are happy to hear how to improve this tool to serve you better.
                                                </div>
                                                <br />
              
                                             
                                                
                                                <div class="field-container d-flex justify-content-start align-items-center">
                                                  <div class="d-flex align-items-center justify-content-center heading-form">
                                                    Details :
                                                  </div>
                                                  <div class="ml-3 d-flex align-items-center justify-content-center w-full">
                                                    <span *ngIf="topicError != ''" class="text-danger">{{ topicError }}</span>
                                                    <label class="field text-field w-full mb-0">
                                                      <textarea
                                                        class="field__input field_input2"
                                                        placeholder="Type here, more details you can share, the better we can respond to you."
                                                        formControlName="detail"
                                                      ></textarea>
                                                      <span class="field__label-wrap">
                                                        <span class="field__label2"></span>
                                                      </span>
                                                    </label>
                                                  </div>
                                                </div>
              
                                              
                                                
                                                <div class="d-flex align-items-center justify-content-center mb-2" style="margin-top: 30px !important;">
                                                  <div class="">
                                                    <button
                                                      class="response-btn d-flex align-items-center justify-content-between"
                                                      type="submit"
                                                      [disabled]="is_loading_topic || !helpTopicForm.valid"
                                                    >
                                                      <span *ngIf="!is_loading_topic">Submit</span>
                                                      <span *ngIf="is_loading_topic">Processing...</span>
                                                      <img src="assets/images/response-add.svg" />
                                                    </button>
              
                                                  </div>
                                                </div>
                                              </form>
                                            </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                        </div>
                  
                        <div class="mt-15px mb-8">
                            <ng-container *ngFor="let topic of  this.help_topics; let i = index;">
                                <div class="row mt-20">
                                  <div class="col-md-12">
                                    <div class="topic-container ">
                                      <div class="topic-heading conversation-toggle cursor-pointer" (click)="this.toggleConversation(topic.id)" >
                                        Topic: {{ topic.topic_title ? topic.topic_title: (topic?.detail ? topic?.detail:'') }}
                                      </div>
                                      <div class="topic-write-box">
                  
                                        
                                        
                                          <ng-container  *ngIf="topic.is_closed === 'NO'">
                                         
                                            
                                            <div class="write-box cursor-pointer" (click)="this.toggleWriteConversation(topic.id)">
                                              <div class="label-text mt-1">
                                                Write to tragget
                                              </div>
                                              <div class="placeholder mt-1" *ngIf="!this.write_conversation">
                                                Respond / comment / amend here
                                              </div>
                                            </div>
                                            <div class="mt-1" *ngIf="write_conversation === topic.id">
                                              <div class="write-box">
                                                <textarea class="write-conversation w-full" [(ngModel)]="responseText"></textarea>
                                              </div>
                                              <div class="response-button-container d-flex align-items-center justify-content-center">
                                                <button class="response-btn d-flex align-items-center justify-content-between" (click)="submitResponse(topic.id)">
                                                  <div class="ml-3">Response</div>
                                                  <img src="assets/images/response-add.svg">
                                                </button>
                                                </div>
                                              </div>
                  
                                          </ng-container>
                  
                                          <ng-container *ngIf="open_conversation !== topic.id">
                                            <div class="conversation-container conversation-header">
                                  
                                                
                                              <ng-container *ngIf="topic.conversations?.length > 0; else noConversations">
                                                <div class="tragget-reply">
                                                  {{ topic.conversations[0]?.text }} -
                  
                                                  {{ topic.conversations[0]?.created_at | date:"Y-M-d"}} {{ topic.conversations[0]?.created_at | date:"shortTime"}}
                                                </div>
                                              </ng-container>
                                              <ng-template #noConversations>
                                                <div class="tragget-reply">No conversations available.</div>
                                              </ng-template>
                                            </div>
                                          </ng-container>
                  

                                          <div *ngIf="open_conversation === topic.id" class="conversation-container conversation-body">
                                            <div *ngIf="topic.is_closed === 'NO'">
                                          
                                                
                                              <div *ngFor="let conversation of topic.conversations">
                                                <div
                                                  class="tragget-reply"
                                                  *ngIf="conversation.admin_id"
                  
                                                  [class.unread]="!conversation.is_read">
                                                  Admin: DispatchProX: {{ conversation.text }} - {{ conversation.created_at | date:"Y-M-d"}} {{ conversation.created_at | date:"shortTime"}}
                                                </div>
                                                <div
                                                  class="user-reply"
                                                  *ngIf="!conversation.admin_id"
                  
                                                  [class.unread]="!conversation.is_read">
                                                  User: {{ conversation.user.full_name }}: {{ conversation.text }} - {{ conversation.created_at | date:"Y-M-d"}} {{ conversation.created_at | date:"shortTime"}}
                                                </div>
                                              </div>
                                            </div>
                                            <div class="tragget-reply" *ngIf="topic.is_closed === 'YES'">
                                         
                                                
                                              This topic has been closed due to inactivity.
                                            </div>
                                          </div>
                  
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </ng-container>
                        </div>
                    </div>
                </div>


                  <div class="setting-content-page border-div"  *ngIf="current_nav=='password'">
                      <div class="title-12 text-color-black-shade7 mb-27">Change Password</div>
                      <form [formGroup]="passwordForm" (ngSubmit)="onPassword()">
                          <div class="row p-3">
                              <div class="col-md-2"></div>
                              <div class="col-md-8">

                              <div *ngIf="oldPasswordError != ''" class="text-danger col-md-12">{{
                                  oldPasswordError
                              }}</div>
                                  <label class="field text-field">
                                      <input class="field__input" type="password" placeholder=""  formControlName="old_password">
                                      <span class="field__label-wrap">
                                      <span class="field__label">Password</span>
                                      </span>
                                  </label>
                              </div>
                              <div class="col-md-2"></div>
                              <div class="col-md-2"></div>
                              <div class="col-md-8">
                                  <span *ngIf="passwordError!= ''" class="text-danger">{{
                                      passwordError
                                  }}</span>
                                  <label class="field text-field">
                                      <input class="field__input" type="password" placeholder=""  formControlName="new_password" (input)="checkPassword($event)">
                                      <span class="field__label-wrap">
                                      <span class="field__label">New Password</span>
                                      </span>
                                  </label>
                              </div>
                              <div class="col-md-2"></div>
                              <div class="col-md-2"></div>
                              <div class="col-md-8">
                                  <span *ngIf="confirmPasswordError !=''" class="text-danger">{{
                                      confirmPasswordError
                                  }}</span>
                                  <label class="field text-field">
                                      <input class="field__input" type="password" placeholder=""  formControlName="confirm_password">
                                      <span class="field__label-wrap">
                                      <span class="field__label">Confirm Password</span>
                                      </span>
                                  </label>
                              </div>
                              <div class="col-md-2"></div>
                          </div>
                          <div align="center">
                              <button *ngIf="!password_loading" type="submit" class="mybtn3 mybtn-back-pink title-17 w-auto">Change</button>
                              <button *ngIf="password_loading" type="button" disabled class="mybtn3 mybtn-back-pink title-17 w-auto">Saving...</button>
                          </div>
                          <div class="row p-3">
                              <div class="col-md-12">
                                  <div>
                                      <div class="text-danger d-flex" *ngIf="atleast_eight === true">
                                          <i class="fa fa-circle" ></i>
                                          <div class="desc-2 ml-1">Atleast 8 character</div>
                                      </div>
                                      <div class="text-danger d-flex" *ngIf=" upper_lower === true">
                                          <i class="fa fa-circle " ></i>
                                          <div class="desc-2 ml-1">Atleast one uppercase and one lowercase character</div>
                                      </div>
                                      <div class="text-danger d-flex" *ngIf="number_symbol_space === true">
                                          <i class="fa fa-circle "  ></i>
                                          <div class="desc-2 ml-1">Atleast one number, symbol, or whitespace character</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </form>
                  </div>
              </div>
          </div>
      </div> -->


      <div class="body-content">
        <div class="main-content p-0">
          <!-- <div class="dashboard-title mb-16">{{current_nav=='profile'? 'Profile Settings':' Change Password'}}</div> -->
  
          <!-- <br> -->
          <div class="setting-content-page border-div inner_main_shadow">
            <div class="row">
              <div class="col-md-7">
  
                <div class="heading_name mb-5">
                  <svg width="19" height="22" viewBox="0 0 19 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="9.19336" cy="5.5" r="3.75" stroke="black" stroke-width="2.5"/>
                    <path d="M16.987 19.3532C16.9775 19.3594 16.9671 19.3659 16.956 19.3728C16.6044 19.5876 15.9236 19.794 14.9418 19.9458C13.0337 20.2408 10.6324 20.2434 9.19268 20.2434C7.75297 20.2434 5.22418 20.2409 3.25051 19.9449C2.35579 19.8107 1.72802 19.6358 1.37533 19.4614C1.97044 18.5461 3.34433 16.8887 4.92831 15.4144C5.76642 14.6343 6.62448 13.9424 7.41451 13.4534C8.23998 12.9424 8.8376 12.75 9.19268 12.75C9.58078 12.75 10.2085 12.9377 11.042 13.4082C11.8447 13.8615 12.7162 14.5073 13.5559 15.248C14.3929 15.9865 15.1724 16.7964 15.7954 17.5601C16.3844 18.2821 16.7866 18.9058 16.987 19.3532ZM1.16087 19.3274C1.16095 19.3274 1.16218 19.3286 1.16431 19.3309C1.16184 19.3286 1.16078 19.3274 1.16087 19.3274Z" stroke="black" stroke-width="2.5"/>
                    </svg>
                    User profile - Help
                  </div>
  
              </div>
              <div class="col-md-5" *ngIf="this.loggedinUser.role_id == 6"></div>
            </div>
  
            <form [formGroup]="updateProfile" (ngSubmit)="onSaveUser()">
              <div class="row mt-20">
                <div class="col-md-7">
                  <div class="p-0 row align-items-center">
                    <div class="col-md-5">
                      <div class="div-image d-flex align-items-center" style="border: 1px solid #E1E1E1;
                      border-radius: 5px;
                      box-shadow: 0px 4px 4px 0px #00000040;">
                        <div
                          class="bg-profile-container d-flex justify-content-center align-items-center"
                        >
                          <img
                            src="../assets/icons/user.svg"
                            class=""
                            *ngIf="
                              !loggedinUser?.profile_image ||
                              loggedinUser?.profile_image == ''
                            "
                          />
                          <img
                            class="user-profile-pic"
                            [src]="
                              backendAPIURL + this.loggedinUser?.profile_image
                            "
                            (error)="handleImageError($event)"
                            *ngIf="
                              this.loggedinUser?.profile_image != '' &&
                              this.loggedinUser?.profile_image !== undefined &&
                              this.loggedinUser?.profile_image !== null
                            "
                          />
                        </div>
                        <div
                          class="p-3 profile-text"
                          (click)="logoFileInput.click()"
                        >
                          Update <br />
                          profile picture
                          <input
                            id="logo-file-input"
                            hidden
                            type="file"
                            [multiple]="false"
                            [accept]="'image/jpeg, image/png'"
                            (change)="uploadimage($event)"
                            #logoFileInput
                            formControlName="profile_image"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-7">
                      <div style="position: absolute; width: 100%">
                        <div
                          tabindex="-1"
                          class="modal fade"
                          style="position: relative !important"
                          id="editProfile"
                          aria-labelledby="editProfile"
                          aria-modal="true"
                          role="dialog"
                        >
                          <div class="modal-dialog margin-auto">
                            <div class="modal-content modal-bg-white">
                              <div class="modal-body">
                                <div class="row">
                                  <div class="col-11 row ml-1 mb-2 pr-0">
                                    <div class="col-12 text-center">
                                      <div
                                        class="heading-5-400 text-color-111727 text-center"
                                      >
                                        Edit contact details
                                      </div>
                                    </div>
                                  </div>
  
                                  <div class="col-1">
                                    <button
                                      type="button"
                                      data-bs-dismiss="modal"
                                      data-dismiss="modal"
                                      aria-label="Close"
                                      class="my-modal-close border-0 bg-transparent shadow-none"
                                    >
                                      <img
                                        src="./assets/images/cross_2.svg"
                                        alt="Close"
                                        style="
                                          width: 14px;
                                          height: 14px;
                                          margin-top: -10px;
                                          margin-right: -15px;
                                        "
                                      />
                                    </button>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-12 mt-3">
                                    <div class="col pl-0 pr-0 main3 mb-2">
                                      <label
                                        class="field fieldd required_fieldd3"
                                      >
                                        <input
                                          class="field__input field__inputt name-input2"
                                          type="text"
                                          formControlName="full_name"
                                          value="{{
                                            this.loggedinUser?.full_name
                                          }}"
                                          (input)="changeFull($event)"
                                        />
                                        <span class="field__label-wrap">
                                          <span class="field__label cust-label"
                                            >Full name</span
                                          >
                                        </span>
                                        <span class="required-symboll">*</span>
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-12 mt-1">
                                    <div class="col pl-0 pr-0 main3 mb-2 bg-grey">
                                      <label class="field fieldd pr-0">
                                        <input
                                          class="field__input field__inputt text-right pr-3"
                                          type="email"
                                          [readonly]="true"
                                          placeholder="Enter Email Address"
                                          value="{{ this.loggedinUser?.email }}"
                                          formControlName="email"
                                          style="background: #D9D9D9 !important;"
                                        />
                                        <span class="field__label-wrap">
                                          <span class="field__label field__label2"
                                            >Email Address</span
                                          >
                                        </span>
                                      </label>
                                    </div>
                                  </div>
                                  <div class="col-12 mt-1">
                                    <span
                                      *ngIf="contactNoError != ''"
                                      class="text-danger"
                                      >{{ contactNoError }}</span
                                    >
                                    <div class="col pl-0 pr-0 main3 mb-2">
                                      <label
                                        class="field fieldd required_fieldd3"
                                      >
                                        <input
                                          class="field__input field__inputt text-right pr-3"
                                          type="text"
                                          placeholder="+1(xxx) xxx xxxx"
                                          (input)="changeNumber($event)"
                                          formControlName="contact_number"
                                        />
                                        <span class="field__label-wrap">
                                          <span class="field__label field__label2"
                                            >Phone number</span
                                          >
                                        </span>
                                      </label>
                                    </div>
                                  </div>
  
                                  <div class="col-12 row center mt-4">
                                    <div
                                      class="col-6 d-flex align-items-center justify-content-center"
                                    >
                                      <button
                                        *ngIf="!update_loading"
                                        type="submit"
                                        class="mybtn3 mybtn-back-pink title-17 w-auto"
                                      >
                                        Update
                                      </button>
                                      <button
                                        *ngIf="update_loading"
                                        type="button"
                                        disabled
                                        class="mybtn3 mybtn-back-pink title-17 w-auto"
                                      >
                                        Updating...
                                      </button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="">
                        <div
                          class="main3 mb-2 cursor-pointer"
                          data-toggle="modal"
                          data-target="#editProfile"
                        >
                          <div class="col-md-12 row p-0">
                            <div class="col pr-0">
                              <label class="field fieldd required_fieldd">
                                <input
                                  class="field__input field__inputt name-input cursor-pointer"
                                  type="text"
                                  [readonly]="true"
                                  value="{{ this.loggedinUser?.full_name }}"
                                />
                                <span class="field__label-wrap">
                                  <span class="field__label cust-label"
                                    >Full name</span
                                  >
                                </span>
                                <span class="required-symboll">*</span>
                              </label>
                            </div>
                          </div>
                        </div>
  
                        <div
                          class="main3 mb-2 cursor-pointer"
                          data-toggle="modal"
                          data-target="#editProfile"
                        >
                          <div class="col-md-12 row p-0">
                            <div class="col pr-0">
                              <label class="field fieldd pr-0">
                                <input
                                  class="field__input field__inputt text-right pr-3 cursor-pointer"
                                  type="email"
                                  [readonly]="true"
                                  placeholder="Enter Email Address"
                                  value="{{ this.loggedinUser?.email }}"
                                />
                                <span class="field__label-wrap">
                                  <span class="field__label field__label2"
                                    >Email Address</span
                                  >
                                </span>
                              </label>
                            </div>
                          </div>
                        </div>
  
                        <div
                          class="main3 mb-2 cursor-pointer"
                          data-toggle="modal"
                          data-target="#editProfile"
                        >
                          <div class="col-md-12 row p-0">
                            <div class="col pr-0 cursor-pointer">
                              <label
                                class="field fieldd required_fieldd cursor-pointer"
                              >
                                <input
                                  class="field__input field__inputt text-right pr-3"
                                  type="text"
                                  [readonly]="true"
                                  placeholder="+1(xxx) xxx xxxx"
                                  (input)="changeNumber($event)"
                                  value="{{
                                    this.loggedinUser?.contact_number
                                    
                                  }}"
                                />
                                <span class="field__label-wrap">
                                  <span class="field__label field__label2"
                                    >Phone number</span
                                  >
                                </span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
  
                  <div class="row mt-3">
                    <div class="col-md-7">
                      <div style="position: absolute; width: 100%">
                        <div
                          tabindex="-1"
                          class="modal fade"
                          style="position: relative !important"
                          id="changeAddress"
                          aria-labelledby="changeAddress"
                          aria-modal="true"
                          role="dialog"
                        >
                          <div class="modal-dialog margin-auto">
                            <div class="modal-content modal-bg-white">
                              <div class="modal-body">
                                <div class="row">
                                  <div class="col-11 row ml-1 mb-2 pr-0">
                                    <div class="col-12 text-center">
                                      <div
                                        class="heading-5-400 text-color-111727 text-center"
                                      >
                                        Add/update address
                                      </div>
                                    </div>
                                  </div>
  
                                  <div class="col-1">
                                    <button
                                      type="button"
                                      data-bs-dismiss="modal"
                                      data-dismiss="modal"
                                      aria-label="Close"
                                      class="my-modal-close border-0 bg-transparent shadow-none"
                                    >
                                      <img
                                        src="./assets/images/cross_2.svg"
                                        alt="Close"
                                        style="
                                          width: 14px;
                                          height: 14px;
                                          margin-top: -10px;
                                          margin-right: -15px;
                                        "
                                      />
                                    </button>
                                  </div>
                                </div>
                                <div class="row mt-1">
                                  <div class="col-6 field-padding">
                                    <span
                                      *ngIf="streetError != ''"
                                      class="text-danger"
                                      >{{ streetError }}</span
                                    >
                                    <div class="title-52 text-grey-shade2">
                                      Street
                                    </div>
                                    <div
                                      class="position-relative required_field11"
                                    >
                                      <img
                                        src="../../assets/icons/pencile.svg"
                                        alt=""
                                        width="17px"
                                        class="top-right-icon2"
                                      />
                                      <input
                                        type="text"
                                        formControlName="street"
                                        class="field-input2"
                                        placeholder="Type here"
                                        value="{{this.loggedinUser?.address}}"
                                      />
                                    </div>
                                  </div>
                                  <div class="col-6 field-padding">
                                    <span
                                      *ngIf="cityError != ''"
                                      class="text-danger"
                                      >{{ cityError }}</span
                                    >
                                    <div
                                      class="title-52 text-grey-shade2 text-right"
                                    >
                                      City/Town
                                    </div>
                                    <div
                                      class="position-relative required_field12"
                                    >
                                      <img
                                        src="../../assets/icons/pencile.svg"
                                        alt=""
                                        width="17px"
                                        class="top-left-icon2"
                                      />
                                      <input
                                        type="text"
                                        formControlName="city"
                                        class="field-input2 text-right"
                                        placeholder="Type here"
                                        value="{{
                                            this.loggedinUser?.city
                                          }}"
                                      />
                                    </div>
                                  </div>
                                </div>
                                <div class="row mt-2">
                                  <div class="col-4 field-padding">
                                    <span
                                      *ngIf="countryError != ''"
                                      class="text-danger"
                                      >{{ countryError }}</span
                                    >
                                    <div class="title-52 text-grey-shade2">
                                      Country
                                    </div>
                                    <div
                                      class="position-relative required_field11"
                                    >
                                      <select
                                        formControlName="country"
                                        (change)="setCountry($event)"
                                        class="field-input2"
                                      >
                                        <option
                                          value="Canada"
                                          [selected]="this.country == 'Canada'"
                                        >
                                          Canada
                                        </option>
                                        <option
                                          value="USA"
                                          [selected]="this.country == 'USA'"
                                        >
                                          USA
                                        </option>
                                      </select>
                                    </div>
                                  </div>
                                  <div class="col-4 field-padding">
                                    <span
                                      *ngIf="provinceError != ''"
                                      class="text-danger"
                                      >{{ provinceError }}</span
                                    >
                                    <div
                                      class="title-52 text-grey-shade2 text-center"
                                    >
                                      Province/State
                                    </div>
                                    <div
                                      class="position-relative required_field11"
                                    >
                                      <select
                                        type="text"
                                        class="field-input2"
                                        [ngModel]="this.province_state"
                                        formControlName="province_state"
                                        value="
                                        {{this.loggedinUser?.province}}"
                                        
                                      >
                                        <ng-container
                                          *ngIf="this.country == 'Canada'"
                                        >
                                          <option
                                            *ngFor="
                                              let pro of this.canada_provinces
                                            "
                                            value="{{ pro }}"
                                            [selected]="pro == this.province_state"
                                          >
                                            {{ pro }}
                                          </option>
                                        </ng-container>
  
                                        <ng-container
                                          *ngIf="this.country == 'USA'"
                                        >
                                          <option
                                            *ngFor="let pro of this.usa_provinces"
                                            value="{{ pro }}"
                                            [selected]="pro == this.province_state"
                                          >
                                            {{ pro }}
                                          </option>
                                        </ng-container>
                                      </select>
                                    </div>
                                  </div>
                                  <div class="col-4 field-padding">
                                    <div
                                      class="title-52 text-grey-shade2 text-right"
                                    >
                                      Postal Code
                                    </div>
                                    <div class="position-relative">
                                      <img
                                        src="../../assets/icons/pencile.svg"
                                        alt=""
                                        width="17px"
                                        class="top-left-icon2"
                                      />
                                      <input
                                        type="text"
                                        formControlName="post_code"
                                        class="field-input2 text-right"
                                        placeholder="Type here"
                                        value="
                                            {{this.loggedinUser?.post_code}}"
                                      />
                                    </div>
                                  </div>
                                </div>
  
                                <div class="row mt-3">
                                  <div class="col-4"></div>
                                  <div class="col-4">
                                    <button
                                      *ngIf="!update_loading"
                                      type="submit"
                                      class="mybtn3 mybtn-back-pink title-17 w-auto"
                                    >
                                      Update
                                    </button>
                                    <button
                                      *ngIf="update_loading"
                                      type="button"
                                      disabled
                                      class="mybtn3 mybtn-back-pink title-17 w-auto"
                                    >
                                      Updating...
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div
                        class="main3 mb-2 cursor-pointer"
                        data-target="#changeAddress"
                        data-toggle="modal"
                      >
                        <div class="col-md-12 row p-0">
                          <div class="col pr-0 cursor-pointer">
                            <label class="field fieldd">
                              <input
                                class="field__input field__inputt cursor-pointer"
                                type="text"
                                [readonly]="true"
                                value="{{ this.full_address }}"
                              />
                              <span class="field__label-wrap">
                                <span class="field__label">Address</span>
                              </span>
                              <img
                                src="../../assets/icons/pencile.svg"
                                alt=""
                                width="17px"
                                class=""
                              />
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-5"></div>
              </div>
              <div class="row mt-20">
                <div class="col-md-12">
                  <div class="myhr3px"></div>
                </div>
              </div>
              <div class="row mt-20">
                <div class="col-md-7">
                  <div class="heading_name">Change password</div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-7">
                  <div class="row mt-3">
                    <div class="col-md-5">
                      <div style="position: absolute; width: 100%">
                        <form
                          [formGroup]="passwordForm"
                          (ngSubmit)="onPassword()"
                        >
                          <div
                            tabindex="-1"
                            class="modal fade"
                            style="position: relative !important"
                            id="changePassword"
                            aria-labelledby="changePassword"
                            aria-modal="true"
                            role="dialog"
                          >
                            <div class="modal-dialog margin-auto">
                              <div class="modal-content">
                                <div class="modal-body">
                                  <div class="row">
                                    <div class="col-11 row ml-1 mb-2 pr-0">
                                      <div class="col-12 text-center">
                                        <div
                                          class="heading-5-400 text-color-111727 text-center"
                                        >
                                          Change password
                                        </div>
                                      </div>
                                    </div>
  
                                    <div class="col-1">
                                      <button
                                        type="button"
                                        data-bs-dismiss="modal"
                                        data-dismiss="modal"
                                        aria-label="Close"
                                        class="my-modal-close border-0 bg-transparent shadow-none"
                                      >
                                        <img
                                          src="./assets/images/cross_2.svg"
                                          alt="Close"
                                          style="
                                            width: 14px;
                                            height: 14px;
                                            margin-top: -10px;
                                            margin-right: -15px;
                                          "
                                        />
                                      </button>
                                    </div>
                                  </div>
                                  <div class="row mt-1">
                                    <div class="col-12 mt-1">
                                      <div
                                        *ngIf="oldPasswordError != ''"
                                        class="text-danger col-md-12"
                                      >
                                        {{ oldPasswordError }}
                                      </div>
                                      <div class="col pl-0 pr-0 main3 mb-2">
                                        <label
                                          class="field fieldd pr-0 required_fieldd3"
                                        >
                                          <input
                                            class="field__input field__inputt pr-3"
                                            type="password"
                                            placeholder=""
                                            formControlName="old_password"
                                          />
                                          <span class="field__label-wrap">
                                            <span
                                              class="field__label field__label"
                                              >Current password</span
                                            >
                                          </span>
                                        </label>
                                      </div>
                                    </div>
  
                                    <div class="col-12 mt-1">
                                      <div class="col pl-0 pr-0 main3 mb-2">
                                        <label
                                          class="field fieldd pr-0 required_fieldd3"
                                        >
                                          <input
                                            class="field__input field__inputt pr-3"
                                            type="password"
                                            placeholder=""
                                            (input)="checkPassword($event)"
                                            formControlName="new_password"
                                          />
                                          <span class="field__label-wrap">
                                            <span
                                              class="field__label field__label"
                                              >New password</span
                                            >
                                          </span>
                                        </label>
                                      </div>
                                    </div>
  
                                    <div class="col-12 mt-1">
                                      <span
                                        *ngIf="confirmPasswordError != ''"
                                        class="text-danger"
                                        >{{ confirmPasswordError }}</span
                                      >
                                      <div class="col pl-0 pr-0 main3 mb-2">
                                        <label
                                          class="field fieldd pr-0 required_fieldd3"
                                        >
                                          <input
                                            class="field__input field__inputt pr-3"
                                            type="password"
                                            placeholder=""
                                            formControlName="confirm_password"
                                          />
                                          <span class="field__label-wrap">
                                            <span
                                              class="field__label field__label"
                                              >Retype new password</span
                                            >
                                          </span>
                                        </label>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-12">
                                        <div
                                          [class]="
                                            atleast_eight === true ||
                                            upper_lower === true ||
                                            number_symbol_space === true
                                              ? 'pt-3'
                                              : ''
                                          "
                                        >
                                          <div
                                            class="text-danger d-flex pl-3 pr-3"
                                            *ngIf="atleast_eight === true"
                                          >
                                            <i class="fa fa-circle"></i>
                                            <div class="desc-2 ml-1">
                                              Atleast 8 character
                                            </div>
                                          </div>
                                          <div
                                            class="text-danger d-flex pl-3 pr-3"
                                            *ngIf="upper_lower === true"
                                          >
                                            <i class="fa fa-circle"></i>
                                            <div class="desc-2 ml-1">
                                              Atleast one uppercase and one
                                              lowercase character
                                            </div>
                                          </div>
                                          <div
                                            class="text-danger d-flex pl-3 pr-3"
                                            *ngIf="number_symbol_space === true"
                                          >
                                            <i class="fa fa-circle"></i>
                                            <div class="desc-2 ml-1">
                                              Atleast one number, symbol, or
                                              whitespace character
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-12 row center mt-1">
                                      <div
                                        class="col-6 d-flex align-items-center justify-content-center"
                                      >
                                        <button
                                          *ngIf="!password_loading"
                                          type="submit"
                                          class="mybtn3 mybtn-back-pink title-17 w-auto"
                                        >
                                          Change
                                        </button>
                                        <button
                                          *ngIf="password_loading"
                                          type="button"
                                          disabled
                                          class="mybtn3 mybtn-back-pink title-17 w-auto"
                                        >
                                          Changing...
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div
                        class="main3 mb-2 cursor-pointer"
                        data-target="#changePassword"
                        data-toggle="modal"
                      >
                        <div class="col-md-12 row p-0">
                          <div class="col pr-0 cursor-pointer">
                            <label class="field fieldd required_fieldd">
                              <input
                                class="field__input field__inputt cursor-pointer"
                                type="text"
                                [readonly]="true"
                                value="******************"
                              />
                              <span class="field__label-wrap">
                                <span class="field__label">Current password</span>
                              </span>
                              <img
                                _ngcontent-wwp-c122=""
                                src="../../assets/icons/pencile.svg"
                                alt=""
                                width="17px"
                                class=""
                              />
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
  
            <ng-container *ngIf="showContent">
  
              <div class="row mt-20">
                <div class="col-md-12">
                  <div class="myhr3px"></div>
                </div>
              </div>
              <div class="row mt-20">
                <div class="col-md-12 d-flex align-items-center justify-content-between position-relative">
                  <div class="heading_name">Help - responses</div>
                  <button class="mybtn mybtn-default text-blue btn-nav ml-2 float-right" (click)="showModal('helptopic')"> Help / question </button>
                   <!-- new help topic -->
                  <div *ngIf="this.current_modal && this.current_modal === 'helptopic'"
                    class="modal fade show show2 d-flex align-items-center" id="invitePeople3"
                    style="display: block; padding-right: 17px;" tabindex="-1" role="dialog"
                    aria-labelledby="myModalLabel">
                      <div class="modal-dialog modal-dialog-right" role="document">
                          <div class="modal-content modal-bg-white">
                              <div class="modal-body p-10px " >
                                <div class="d-flex align-items-center justify-content-between">
                                    <img src="./assets/images/cross_2.svg" class="float-right top-right-icon2 cursor-pointer" (click)="this.hideModal()">
                                  <div class="">
                                    <div class="modal-start-text">
                                      Type your question below
                                    </div>
                                    <div class="modal-main-heading mt-1">
                                      Ask from DispatchProX
                                    </div>
                                  </div>
                                  <div class="">
                                    <div class="modal-heading-badge">
                                      Help / question
                                    </div>
                                  </div>
                                </div>
                                <div class="topic-form-container mt-18">
                                  <form [formGroup]="helpTopicForm" (ngSubmit)="onSaveTopic()" enctype="multipart/form-data" class="mt-15px">
                                    <!-- Topic Input -->
                                    <div class="field-container d-flex justify-content-start align-items-center">
                                      <div class="d-flex align-items-center justify-content-center heading-form">
                                        Topic :
                                      </div>
                                      <div class="ml-3 d-flex align-items-center justify-content-center w-full">
                                        <span *ngIf="topicError != ''" class="text-danger">{{ topicError }}</span>
                                        <label class="field text-field required_field w-full mb-0">
                                          <textarea
                                            class="field__input"
                                            placeholder="Enter"
                                            formControlName="topic_title"
                                          ></textarea>
                                          <span class="field__label-wrap">
                                            <span class="field__label">Topic title</span>  <!-- Updated label -->
                                          </span>
                                        </label>
                                      </div>
                                    </div>
  
                                    <br />
                                    <div class="label_text">
                                      Note: DispatchProX cannot help with questions about the projects, jobs, vendors, or customers. Instead, we can
                                      help/answer how you can use tragget.com and are happy to hear how to improve this tool to serve you better.
                                    </div>
                                    <br />
  
                                    <!-- Details Input -->
                                    <div class="field-container d-flex justify-content-start align-items-center">
                                      <div class="d-flex align-items-center justify-content-center heading-form">
                                        Details :
                                      </div>
                                      <div class="ml-3 d-flex align-items-center justify-content-center w-full">
                                        <span *ngIf="topicError != ''" class="text-danger">{{ topicError }}</span>
                                        <label class="field text-field w-full mb-0">
                                          <textarea
                                            class="field__input field_input2"
                                            placeholder="Type here, more details you can share, the better we can respond to you."
                                            formControlName="detail"
                                          ></textarea>
                                          <span class="field__label-wrap">
                                            <span class="field__label2"></span>
                                          </span>
                                        </label>
                                      </div>
                                    </div>
  
                                    <!-- Submit Button -->
                                    <div class="d-flex align-items-center justify-content-center mb-2" style="margin-top: 30px !important;">
                                      <div class="">
                                        <button
                                          class="response-btn d-flex align-items-center justify-content-between"
                                          type="submit"
                                          [disabled]="is_loading_topic || !helpTopicForm.valid"
                                        >
                                          <span *ngIf="!is_loading_topic">Submit</span>
                                          <span *ngIf="is_loading_topic">Processing...</span>
                                          <img src="../../assets/images/response-add-black.svg"/>
                                        </button>
  
                                      </div>
                                    </div>
                                  </form>
  
                                </div>
  
  
                              </div>
                          </div>
                      </div>
                  </div>
                </div>
              </div>
  
  
              <!--closed converstations-->
              <ng-container *ngFor="let topic of  this.help_topics; let i = index;">
                <div class="row mt-20">
                  <div class="col-md-7" >
                    <div class="topic-container" [ngClass]="{'has-unread': hasUnreadMessages(topic)}">
                      <div class="topic-heading conversation-toggle cursor-pointer" (click)="this.toggleConversation(topic.id)" >
                        Topic: {{ topic.topic_title ? topic.topic_title: (topic?.detail ? topic?.detail:'') }}
                      </div>
                      <div class="topic-write-box">
  
                          <!-- Replies & Write a reply-->
                          <ng-container  *ngIf="topic.is_closed === 'NO'">
                            <!-- Write a reply -->
                            <!-- <div class="write-box cursor-pointer" (click)="this.toggleWriteConversation(topic.id)">
                              <div class="label-text mt-1">
                                Write to tragget
                              </div>
                    
                            </div> -->
                            <!-- <div class="mt-1" *ngIf="write_conversation === topic.id">
                              <div class="write-box position-relative">
                                <textarea class="write-conversation w-100 pr-5" [(ngModel)]="responseText"></textarea>
                            
                                <button class="response-btn position-absolute top-50 end-0 translate-middle-y" 
                                        (click)="submitResponse(topic.id)">
                                  <div class="ml-3">Response</div>
                                  <img src="assets/images/black-response-add.svg">
                                </button>
                              </div>
                            </div> -->
                          </ng-container>
  
                          <ng-container *ngIf="open_conversation !== topic.id">
                            <div class="conversation-container conversation-header">
                              <!-- Check and show the last conversation -->
                              <ng-container *ngIf="topic.conversations?.length > 0; else noConversations">
                                <div style="border-radius: 0px 0px 5px 5px;"
                                [ngClass]="{
                                  'tragget-reply': topic.conversations[0]?.admin_id,
                                  'user-reply': !topic.conversations[0]?.admin_id
                                }"
                              >
                                <span *ngIf="topic.conversations[0]?.admin_id">DispatchProX:</span>
                                <span *ngIf="!topic.conversations[0]?.admin_id">{{ topic.conversations[0]?.user?.full_name }}:</span>
                                
                                {{ topic.conversations[0]?.created_at | date:"Y-M-d"}} 
                                {{ topic.conversations[0]?.created_at | date:"shortTime"}} :
                                {{ topic.conversations[0]?.text }}
                              </div>
                              
                              </ng-container>
                              <ng-template #noConversations>
                                <div style="border-radius: 0px 0px 5px 5px;" class="tragget-reply">No conversations available.</div>
                              </ng-template>
                            </div>
                          </ng-container>
  
  
                          <!--Replies-->
  
  
                          <div *ngIf="open_conversation === topic.id" class="conversation-container conversation-body">
                            <div *ngIf="topic.is_closed === 'NO'">
                              <!-- Display open conversation -->
                              <div *ngFor="let conversation of topic.conversations">
                                <div
                                  class="tragget-reply"
                                  *ngIf="conversation.admin_id"
  
                                  [class.unread]="!conversation.is_read">
                                  DispatchProX : {{ conversation.created_at | date:"Y-M-d"}} {{ conversation.created_at | date:"shortTime"}} : {{ conversation.text }} 
                                </div>
                                <div
                                  class="user-reply"
                                  *ngIf="!conversation.admin_id"
  
                                  [class.unread]="!conversation.is_read">
                                  {{ conversation.user.full_name }} : {{ conversation.created_at | date:"Y-M-d"}} {{ conversation.created_at | date:"shortTime"}} : {{ conversation.text }} 
                                </div>
                              </div>
                              <div class="label-text mt-1 plr-10">
                                Write to tragget
                              </div>
                              <div class="mt-1">
                                <div class="write-box position-relative plr-10" >
                                  <textarea class="write-conversation w-100 pr-5"
                                  rows="1"
                                  style="resize: vertical; overflow: hidden; white-space: nowrap;"
                                  [(ngModel)]="responseText">
                                </textarea>
                              
                                  <!-- Button positioned over the textarea -->
                                  <button class="response-btn position-absolute d-flex align-items-center top-50 end-0 translate-middle-y" 
                                  style="right: 10px; top: 41%; transform: translateY(-50%); justify-content: space-between;" 
                                  (click)="submitResponse(topic.id)">
                              <div class="me-2">Response</div>
                              <img src="../../assets/images/response-add-black.svg" alt="Response Icon">
                          </button>
                          
                                </div>
                              </div>
                            </div>
                            <div class="tragget-reply" *ngIf="topic.is_closed === 'YES'">
                        
                              <!-- Message when topic is closed -->
                              This topic has been closed due to inactivity.
                            </div>
                          </div>
  
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
          </div>
        </div>
      </div>

  </div>
</div>



<!-- <div class="modal fade  come-from-modal right" id="myModalEditProfile" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-body modal-body-padding">
              <div class="title-4 text-center mb-20">Update driver profile</div>
              <form [formGroup]="updateProfile" (ngSubmit)="onSaveSetting()">
                  <div class="title-6-new mb-6">Contact info</div>
                  <div class="border-div2 mb-13">
                      <div class="row">
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('full_name')?.invalid && (formClicked)"
                              class="text-danger">
                                  Full name is required.
                              </span>
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Full name </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="John" formControlName="full_name" ngModel="{{this.loggedinUser?.full_name}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px">
                                  </div>
                              </div>
                          </div>

                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('email')?.invalid && (formClicked)"
                              class="text-danger">
                                  Email is required.
                              </span>
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Email address </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="johndoe@gmail.com" formControlName="email" ngModel="{{this.loggedinUser?.email}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px" >
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('contact_number')?.invalid && (formClicked)"
                              class="text-danger">
                                  Contact number is required.
                              </span>
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Phone number </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" (input)="changeNumber($event)" placeholder="(582) 665 4408" formControlName="contact_number" ngModel="{{this.loggedinUser?.contact_number}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px" >
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="myhr3 mb-9"></div>
                      <div class="row">
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('street')?.invalid && (formClicked)"
                              class="text-danger">
                                  Street is required.
                              </span>
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Street </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="874 Road St" formControlName="street" ngModel="{{this.loggedinUser?.address}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px" >
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('city')?.invalid && (formClicked)"
                              class="text-danger">
                                  City is required.
                              </span>
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">City </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="Vancouver" formControlName="city" ngModel="{{this.loggedinUser?.city}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px" >
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('province_state')?.invalid && (formClicked)"
                              class="text-danger">
                                  Province is required.
                              </span>
                              <div class="input-group">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Province/ State </div>
                                      <div class="required ml-3">*</div>
                                  </div>
                                  <div class="position-relative">
                                      <select class="myinput4" formControlName="province_state" ngModel="{{this.loggedinUser?.province}}">
                                          <option *ngFor="let pro of this.provinces" value="{{pro}}" [selected]="pro == this.loggedinUser?.province">{{pro}} </option>
                                      </select>

                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <span *ngIf="updateProfile.get('post_code')?.invalid && (formClicked)"
                              class="text-danger">
                                  Post code is required.
                              </span>
                              <div class="input-group">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Postal code </div>
                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="V6T 8N1" formControlName="post_code" ngModel="{{this.loggedinUser?.post_code}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px">
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="title-6-new mb-6">Business info</div>
                  <div class="border-div2 mb-28">
                      <div class="row">
                          <div class="col-md-6">
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Business name </div>

                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="BC" formControlName="company_name" ngModel="{{this.loggedinUser?.company_name}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px">
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Business number / SIN </div>

                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="258 996 336"  formControlName="business_number" ngModel="{{this.loggedinUser?.business_number}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px">
                                  </div>
                              </div>
                          </div>
                          <div class="col-md-6"></div>
                          <div class="col-md-6">
                              <div class="input-group mb-16">
                                  <div class="d-flex ">
                                      <div class="title-5-new2 text-color-black-shade5  mb-6">Work safety number </div>

                                  </div>
                                  <div class="position-relative">
                                      <input type="text" class="myinput4" placeholder="242343345"  formControlName="work_safety_number" ngModel="{{this.loggedinUser?.work_safety_number}}">
                                      <img src="../../assets/icons/pencile.svg" alt="" class="top-right-icon" width="17px">
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div align="center">
                      <button class="mybtn3 mybtn-back-pink title-17 w-auto" *ngIf="!update_loading">Save</button>
                      <button class="mybtn3 mybtn-back-pink title-17 w-auto" type="button" disabled *ngIf="update_loading">Processing...</button>
                  </div>
              </form>
          </div>
      </div>
  </div>
</div> -->
